{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/window-function-calls-an-introduction/","result":{"data":{"site":{"siteMetadata":{"title":"wasabigeek"}},"markdownRemark":{"id":"adc086ab-7385-5e50-9695-f4bafe16bce1","excerpt":"What is a window function call? My explanation: adds a column to query results that is calculated based on other rows in the table Ok, that’s probably still not…","html":"<p>What is a <strong>window function call</strong>? My explanation:</p>\n<blockquote>\n<p>adds a column to query results that is calculated based on other rows in the table</p>\n</blockquote>\n<p>Ok, that’s probably still not immediately understandable, so let’s walk through an example. Imagine you’ve been tracking expenses in Postgres:</p>\n<table>\n<thead>\n<tr>\n<th>description</th>\n<th>category</th>\n<th>created_at</th>\n<th>cost</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>bus ride</td>\n<td>transport</td>\n<td>2020-01-01</td>\n<td>3</td>\n</tr>\n<tr>\n<td>lunch</td>\n<td>food &#x26; drinks</td>\n<td>2020-01-01</td>\n<td>15</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>Now, as a contrived example*, say you wanted to see how much each expense compares to the average:</p>\n<table>\n<thead>\n<tr>\n<th>description</th>\n<th>category</th>\n<th>created_at</th>\n<th>cost</th>\n<th>avg</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>bus ride</td>\n<td>…</td>\n<td>…</td>\n<td>3</td>\n<td>17.5</td>\n</tr>\n<tr>\n<td>lunch</td>\n<td>…</td>\n<td>…</td>\n<td>15</td>\n<td>17.5</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>You <em>could</em> use a subquery to calculate the average:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>cost<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> expenses<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> expenses<span class=\"token punctuation\">;</span></code></pre></div>\n<p>But we could also be a little fancier and use a window function call:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>cost<span class=\"token punctuation\">)</span> <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> expenses<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Although we have some new syntax to understand (which we’ll get into later), that’s noticeably shorter! What just happened?</p>\n<h2>Hello, Window Frames</h2>\n<p>Let’s try to visualise the window function call. For each row, Postgres calculates the average cost of the rest of the table, which is the default <strong>“window frame”</strong>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1014b18a4b3fbfc949cb36a9403672a2/2bef9/avg_cost_whole_table.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEklEQVQoz4VS23KbMBDN//9If6GZ6Utn2k7SpDWd+AKGBAw2wUJXkEBIwEYYx42nDz2jkVbSnl1p99wAwDjOY4R3OHsYhv4dbuf21lpnu1lr7QzndnPxtkZzhuuKU4wYxbZre6Ot7TpjORd1LaVSjBJKqRBCSjmRtYVXBsG+r2r1tEkeF5u7xydvGRHRYW4QUWUWendfN4t7lMX5kfh+sF6vOecTmSt4iKBg42No/EzvkN1mKi2Hl9cuRpAfimMap8fmiOhzEBVJACqxPKWMn5/dD+DF4+3CHgqS5txbJYhbJCBnkBXqmD6vkma7byI/wFRAdxzYljIxkecqDSNs0/q56A+kf6WmrIBLkO3YGNDFUpte9yDSX41SYKthd4tLdM4811lWXAryEgUlKt4PT5HZhpGSMNGWocK7KZPMceJdkUVVGWMunZt7MM1kNQ7WrQpFEoUTue9w+O2aLEQcx66ShJDz4XzBN7v4JS+woYnI/YlsDdr+Q3aZnQacPC5iOT17XQlaKQ0qZ/vVXCIS/dCduSLPGgL4oDSArvCkrBsLmsb74J5Jy3M/Dx/arr+5ODrRMcZcCH4CO8GtKv8js4c6XzbhZ5YtXZPUYTHo6q88LyL9gGHK25ZQxRB+guI77L8A+gkdBu7P7lfka5w+3LeAn6DFYCSU3kiWY4tHI2eP/5FHC+g3VDtXYvfpKcqlhQBv16RYTMfvWi4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Calculating average cost over the default window frame\"\n        title=\"Calculating average cost over the default window frame\"\n        src=\"/static/1014b18a4b3fbfc949cb36a9403672a2/fcda8/avg_cost_whole_table.png\"\n        srcset=\"/static/1014b18a4b3fbfc949cb36a9403672a2/12f09/avg_cost_whole_table.png 148w,\n/static/1014b18a4b3fbfc949cb36a9403672a2/e4a3f/avg_cost_whole_table.png 295w,\n/static/1014b18a4b3fbfc949cb36a9403672a2/fcda8/avg_cost_whole_table.png 590w,\n/static/1014b18a4b3fbfc949cb36a9403672a2/efc66/avg_cost_whole_table.png 885w,\n/static/1014b18a4b3fbfc949cb36a9403672a2/2bef9/avg_cost_whole_table.png 1024w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Now if that was all you could do with window function calls, I’d be disappointed too. Thankfully, it’s not! Aside from being shorter, there are some key features that are harder to replicate with subqueries:</p>\n<ul>\n<li>calculations can be done over a subset of the table (i.e. a smaller <strong>window frame</strong>) instead of the whole table</li>\n<li>in addition to the usual aggregation functions like <code class=\"language-text\">avg</code> or <code class=\"language-text\">max</code>, there are window functions, which can only be used in window function calls</li>\n</ul>\n<h2>Reframing the Window</h2>\n<p>Let’s try calculating over a subset. Knowing the average across all expenses wasn’t very helpful - a big purchase could skew the calculation, so let’s instead compare each expense to the <em>category average</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>cost<span class=\"token punctuation\">)</span> <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">partition</span> <span class=\"token keyword\">by</span> category<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"avg in category\"</span>\n<span class=\"token keyword\">from</span> expenses<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Our result now looks something like:</p>\n<table>\n<thead>\n<tr>\n<th>description</th>\n<th>category</th>\n<th>created_at</th>\n<th>cost</th>\n<th>avg in category</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>tea break</td>\n<td>food &#x26; drinks</td>\n<td>…</td>\n<td>5</td>\n<td>24</td>\n</tr>\n<tr>\n<td>lunch</td>\n<td>food &#x26; drinks</td>\n<td>…</td>\n<td>15</td>\n<td>24</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>taxi to home</td>\n<td>transport</td>\n<td>…</td>\n<td>20</td>\n<td>9</td>\n</tr>\n<tr>\n<td>bus ride home</td>\n<td>transport</td>\n<td>…</td>\n<td>3</td>\n<td>9</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>That’s a bit more helpful! Let’s visualise this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6107b4b5b64a472d789accb94501592f/2bef9/avg_cost_category.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4UlEQVQoz42Si26bMBSG+/5PtUzTNKnVkl7SlAAJMRAuBmyDufh6ZqCVumib9stIYPs7/7lwB/8npZWTezHGCqnWzTv3aAOjBN4LlOIzynDTCQU4T7z99uQ9s+rKm+J5t3v6ed+1DJfl4/ahqasZdthDOK8g09GV+ZcaFQNl4yVC3rk8+GmctyWZ+KDOwYkQBqKRaKMqb4aVgbSGtxReYx1nNEQ0wRNtZRZfdruX4BhUZd1gnKAYHV+UGEF10ByWrO3dmr2xIJSNUJaXtQvnihLTFMcpY51SRkrddXyahvmq5FDvF3aBrQW7hJBCKCmXAwNWgpmsoHZqXKqa55JEYNymBnb+zXkJYTnnQ993fADFxyqMgoO/3w7kCpoV8bE534Pms00bgZ7eu/2euTFN07RtS1kLWlh+FSzTvABRw4BtX0Kfz85OHZqT/wzfDpahvvDawu+KAMZS0liTEIyA1dmoPzjnTkXpWFH5Fcah71W4cKe8H8cqAEnndlD/tmYHE0IopRjPP8BQvKI4OfoBpcR9srbj6Q5Ua2U/O9/ATn3fD4vmE3Yy5aOMv9nsB6Qbm2wsOYLqgbyt3fpHzcvsRgzZd3DM9SskX2AogYVrq/4Ku5l9VCKhegLZzVZurd36pF/tHCM++dizvwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Calculating average cost over each category\"\n        title=\"Calculating average cost over each category\"\n        src=\"/static/6107b4b5b64a472d789accb94501592f/fcda8/avg_cost_category.png\"\n        srcset=\"/static/6107b4b5b64a472d789accb94501592f/12f09/avg_cost_category.png 148w,\n/static/6107b4b5b64a472d789accb94501592f/e4a3f/avg_cost_category.png 295w,\n/static/6107b4b5b64a472d789accb94501592f/fcda8/avg_cost_category.png 590w,\n/static/6107b4b5b64a472d789accb94501592f/efc66/avg_cost_category.png 885w,\n/static/6107b4b5b64a472d789accb94501592f/2bef9/avg_cost_category.png 1024w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>For each row, our new window frame includes only other rows with the same category, and the average is calculated based on those rows.</p>\n<p>This is also a good time to take a brief look at the syntax we’ve used so far:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>cost<span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">PARTITION</span> <span class=\"token keyword\">BY</span> category<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>In the above:</p>\n<ul>\n<li><code class=\"language-text\">avg(cost)</code> is the aggregation function that we want to execute over the window frame - we could use other functions such as <code class=\"language-text\">max</code> or <code class=\"language-text\">min</code></li>\n<li><code class=\"language-text\">OVER</code> is the keyword which tells Postgres we were using a window function call. Everything in parentheses specifies how our table will be divided into different window frames</li>\n<li>in this case, we are using <code class=\"language-text\">PARTITION BY category</code>, which means we are dividing the table into different window frames based on their category</li>\n</ul>\n<h2>Window Functions</h2>\n<p>Now that we know a little more about the syntax, let’s look at the other hidden power of window functions calls… <strong>window functions</strong> themselves!</p>\n<p>It’s coming to the end of the month, and you want to know the biggest expense in each category, for each day. There’s a window function for that - <code class=\"language-text\">rank</code>!</p>\n<p>With <code class=\"language-text\">rank</code>, we can calculate the order of each row in it’s window frame. Note we’ll still be returning every row in the table, not just the top expenses - we’ll fix that later:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span>\n  <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span>\n  rank<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">partition</span> <span class=\"token keyword\">by</span> category<span class=\"token punctuation\">,</span> created_at\n    <span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> cost <span class=\"token keyword\">desc</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">from</span> expenses<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Notice the additional syntax in our window function call:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">OVER</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">PARTITION</span> <span class=\"token keyword\">BY</span> category<span class=\"token punctuation\">,</span> created_at <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> cost <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<ul>\n<li>we’ve added a second condition to <code class=\"language-text\">PARTITION BY</code> to further divide each window frame by the day each entry was <code class=\"language-text\">created_at</code> (this is very similar to <code class=\"language-text\">GROUP BY</code>)</li>\n<li>there’s now an <code class=\"language-text\">ORDER BY ... DESC</code> that orders the rows within each frame from highest to lowest cost, so we’ll know that a rank of 1 would be the most expensive</li>\n</ul>\n<p>Another quick visual:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c2273fb3c2a5f6a4d8b43e62292fa544/2bef9/rank_category_date.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeUlEQVQoz31SaXOCMBDl//+mfugx7dRppToVPFDUCOEoCCGHIMmmAW21nU53JjMvu3mT93bXAtCgL3GNv0NBl66bpsNKccaaHlvmyPZYHwSjVXs8gqzzaJ0GS0FJgNDItr35DO82bB/NhreCJCWhE8eJ47gjz0K9xtR2w4fBzFkVwWY7uL95uH/0F4ud749te/Q69Nfhale92PPIdzmnDDtCiI585+gFVu8+HU5Td1vvomI0eBo829vVep8m4RYhb5qhaY7cj9VbQ6LemzrZsUquC2ZcKSmVcSZZovZenXlN5rX7JYscFs+BIhBhiWxFA5AN8LhvDXSeAQDjkFHa+SebDE2W788iW2q2OSSTCjtAA1mFJBhpHpvXui7OP/eN1G3bSik7JGvFsD586CPVIJVsO5FgSqoW3LT6egrWufuc53lOKTXiA5yMJy6pKlMyyTRNTxxT/SLDDzIhpCgKxrm5Gv2kLKGXZEoncMK/5m9d1gP+XBD9z4NPOwY5LIvl3s8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Calculating rank over each category and date\"\n        title=\"Calculating rank over each category and date\"\n        src=\"/static/c2273fb3c2a5f6a4d8b43e62292fa544/fcda8/rank_category_date.png\"\n        srcset=\"/static/c2273fb3c2a5f6a4d8b43e62292fa544/12f09/rank_category_date.png 148w,\n/static/c2273fb3c2a5f6a4d8b43e62292fa544/e4a3f/rank_category_date.png 295w,\n/static/c2273fb3c2a5f6a4d8b43e62292fa544/fcda8/rank_category_date.png 590w,\n/static/c2273fb3c2a5f6a4d8b43e62292fa544/efc66/rank_category_date.png 885w,\n/static/c2273fb3c2a5f6a4d8b43e62292fa544/2bef9/rank_category_date.png 1024w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>So for each row, our window frame is other rows with the same category and created_at date, and we order the rows from highest to lowest cost.</p>\n<p>The query gives us a result like:</p>\n<table>\n<thead>\n<tr>\n<th>description</th>\n<th>category</th>\n<th>created_at</th>\n<th>cost</th>\n<th>rank</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>groceries</td>\n<td>food &#x26; drinks</td>\n<td>2020-01-01</td>\n<td>60</td>\n<td>1</td>\n</tr>\n<tr>\n<td>dinner</td>\n<td>food &#x26; drinks</td>\n<td>2020-01-01</td>\n<td>35</td>\n<td>2</td>\n</tr>\n<tr>\n<td>lunch</td>\n<td>food &#x26; drinks</td>\n<td>2020-01-01</td>\n<td>15</td>\n<td>3</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>taxi</td>\n<td>transport</td>\n<td>2020-01-01</td>\n<td>20</td>\n<td>1</td>\n</tr>\n<tr>\n<td>bus ride</td>\n<td>transport</td>\n<td>2020-01-01</td>\n<td>3</td>\n<td>2</td>\n</tr>\n<tr>\n<td>bus ride</td>\n<td>transport</td>\n<td>2020-01-02</td>\n<td>4</td>\n<td>1</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>Now that we have a ranking, we could use it as a subquery and filter out expenses that are rank 2 or higher.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token comment\">-- our earlier query</span>\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token string\">\"ranked_expenses\"</span>\n<span class=\"token keyword\">where</span> rank <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Which leaves us with exactly what we want - nice!</p>\n<table>\n<thead>\n<tr>\n<th>description</th>\n<th>category</th>\n<th>created_at</th>\n<th>cost</th>\n<th>rank</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>groceries</td>\n<td>food &#x26; drinks</td>\n<td>2020-01-01</td>\n<td>60</td>\n<td>1</td>\n</tr>\n<tr>\n<td>lunch</td>\n<td>food &#x26; drinks</td>\n<td>2020-01-02</td>\n<td>15</td>\n<td>1</td>\n</tr>\n<tr>\n<td>taxi to home</td>\n<td>transport</td>\n<td>2020-01-01</td>\n<td>20</td>\n<td>1</td>\n</tr>\n<tr>\n<td>bus ride home</td>\n<td>transport</td>\n<td>2020-01-02</td>\n<td>4</td>\n<td>1</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>I hoped that helped you grok window functions! If you want to play around with the data in this example, there’s an <a href=\"http://sqlfiddle.com/#!17/f33e78/3\">sqlfiddle</a> - in case that doesn’t exist at the time of reading, you can also get the SQL to create the table and query the data from this <a href=\"https://gist.github.com/wasabigeek/2b9fb05eba5c26928bab85bcf408511f\">gist</a>.</p>\n<p>To dig deeper, check out the Postgres docs:</p>\n<ul>\n<li><a href=\"https://www.postgresql.org/docs/current/tutorial-window.html\">window functions tutorial</a></li>\n<li><a href=\"https://www.postgresql.org/docs/current/functions-window.html\">the list of window functions</a>.</li>\n</ul>","frontmatter":{"title":"Window Function Calls - An Introduction","date":"December 31, 2020","description":"Grok the basics of window function calls with pictures!"}}},"pageContext":{"slug":"/blog/window-function-calls-an-introduction/","previous":{"fields":{"slug":"/blog/finding-new-indie-hacking-ideas/"},"frontmatter":{"title":"Finding New Indie Hacking Ideas (WIP)"}},"next":{"fields":{"slug":"/blog/window-functions-visualized-rankings/"},"frontmatter":{"title":"Window Functions, Visualized - Rankings"}}}},"staticQueryHashes":["1003244115","2841359383"]}