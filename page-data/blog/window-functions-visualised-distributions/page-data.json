{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/window-functions-visualised-distributions/","result":{"data":{"site":{"siteMetadata":{"title":"wasabigeek"}},"markdownRemark":{"id":"995c80df-baa0-5363-802d-daa42ce7cbcb","excerpt":"Let’s look at the window functions  and , which I’ve dubbed “distribution functions”. cume_dist Shortform for cumulative distribution, percentiles? ntile I…","html":"<p>Let’s look at the window functions <code class=\"language-text\">cume_dist</code> and <code class=\"language-text\">ntile</code>, which I’ve dubbed “distribution functions”.</p>\n<h2>cume_dist</h2>\n<p>Shortform for <a href=\"https://en.wikipedia.org/wiki/Cumulative_distribution_function\">cumulative distribution</a>,</p>\n<p>percentiles?</p>\n<h2>ntile</h2>\n<p>I liken <code class=\"language-text\">ntile</code> to dividing your window frame equally into “buckets”:</p>\n<p>An example:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n  ntile<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> cost <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">FROM</span> expenses<span class=\"token punctuation\">;</span></code></pre></div>\n<p>In the above, we’re asking Postgres to divide the frame into 3 buckets:</p>\n<p>Following from window functions for <a href=\"/blog/window-function-visualised-rankings\">rankings</a></p>","frontmatter":{"title":"Window Functions, Visualised - Distribution","date":"January 09, 2021","description":"Picturing cume_dist and ntile window functions."}}},"pageContext":{"slug":"/blog/window-functions-visualised-distributions/","previous":{"fields":{"slug":"/blog/window-functions-visualised-rankings/"},"frontmatter":{"title":"Window Functions, Visualised - Rankings"}},"next":{"fields":{"slug":"/blog/how-does-activerecord-know-the-primary-key/"},"frontmatter":{"title":"How does ActiveRecord know the primary_key?"}}}},"staticQueryHashes":["1003244115","2841359383"]}