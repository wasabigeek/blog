<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:106.25%/1.45 'Cabin',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Cabin',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:hsla(0,0%,0%,0.9);font-family:'Arvo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:hsla(0,0%,0%,0.9);font-family:'Arvo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:hsla(0,0%,0%,0.9);font-family:'Arvo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:hsla(0,0%,0%,0.9);font-family:'Arvo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:hsla(0,0%,0%,0.9);font-family:'Arvo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;color:hsla(0,0%,0%,0.9);font-family:'Arvo',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;font-size:0.9rem;line-height:1.45rem;border-collapse:collapse;width:100%;border:1px solid hsla(0,0%,0%,0.12);border-radius:5px;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0.90625rem;padding-right:0;padding-top:0;margin-bottom:1.16rem;font-size:1.1487rem;line-height:1.45rem;border-left:0.54375rem solid #ff483b;color:hsla(0,0%,0%,0.65);font-style:italic;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.16rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.16rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;background-color:#eef0f159;}li{margin-bottom:calc(1.16rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.16rem / 2);margin-top:calc(1.16rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.16rem / 2);margin-top:calc(1.16rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.16rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#ff483b;text-decoration:none;text-shadow:.03em 0 #fff,-.03em 0 #fff,0 .03em #fff,0 -.03em #fff,.06em 0 #fff,-.06em 0 #fff,.09em 0 #fff,-.09em 0 #fff,.12em 0 #fff,-.12em 0 #fff,.15em 0 #fff,-.15em 0 #fff;background-image:linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0) 1px, #ff483b 1px, #ff483b 2px, rgba(0, 0, 0, 0) 2px);}a:hover,a:active{text-shadow:none;background-image:none;}h1,h2,h3,h4,h5,h6{line-height:1.2;margin-top:2.175rem;margin-bottom:0.725rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.45rem;color:hsla(0,0%,0%,0.8);font-style:normal;font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{border-left:0.27187rem solid #ff483b;padding-left:0.81562rem;font-style:italic;margin-left:-1.0875rem;margin-right:0;}}h2,h3{margin-bottom:0.725rem;margin-top:2.9rem;}th, td{padding-top:0.5rem;padding-bottom:calc(0.5rem - 1px);}th:first-child, td:first-child{padding-left:0.96rem;}</style><style data-href="/styles.fd5482a32505d410754e.css">code[class*=language-],pre[class*=language-]{background:#fafafa;color:#383a42;font-family:Fira Code,Fira Mono,Menlo,Consolas,DejaVu Sans Mono,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-] ::selection{background:#e5e5e6;color:inherit}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-]{padding:.2em .3em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.prolog{color:#a0a1a7}.token.doctype,.token.entity,.token.punctuation{color:#383a42}.token.atrule,.token.attr-name,.token.boolean,.token.class-name,.token.constant,.token.number{color:#b76b01}.token.keyword{color:#a626a4}.token.deleted,.token.important,.token.property,.token.symbol,.token.tag{color:#e45649}.token.attr-value,.token.attr-value>.token.punctuation,.token.builtin,.token.char,.token.inserted,.token.regex,.token.selector,.token.string{color:#50a14f}.token.function,.token.operator,.token.variable{color:#4078f2}.token.url{color:#0184bc}.token.attr-value>.token.punctuation.attr-equals,.token.special-attr>.token.attr-value>.token.value.css{color:#383a42}.language-css .token.selector{color:#e45649}.language-css .token.property{color:#383a42}.language-css .token.function,.language-css .token.url>.token.function{color:#0184bc}.language-css .token.url>.token.string.url{color:#50a14f}.language-css .token.atrule .token.rule,.language-css .token.important,.language-javascript .token.operator{color:#a626a4}.language-javascript .token.template-string>.token.interpolation>.token.interpolation-punctuation.punctuation{color:#ca1243}.language-json .token.operator{color:#383a42}.language-json .token.null.keyword{color:#b76b01}.language-markdown .token.url,.language-markdown .token.url-reference.url>.token.string,.language-markdown .token.url>.token.operator{color:#383a42}.language-markdown .token.url>.token.content{color:#4078f2}.language-markdown .token.url-reference.url,.language-markdown .token.url>.token.url{color:#0184bc}.language-markdown .token.blockquote.punctuation,.language-markdown .token.hr.punctuation{color:#a0a1a7;font-style:italic}.language-markdown .token.code-snippet{color:#50a14f}.language-markdown .token.bold .token.content{color:#b76b01}.language-markdown .token.italic .token.content{color:#a626a4}.language-markdown .token.list.punctuation,.language-markdown .token.strike .token.content,.language-markdown .token.strike .token.punctuation,.language-markdown .token.title.important>.token.punctuation{color:#e45649}.token.bold{font-weight:700}.token.comment,.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.8}.token.token.cr:before,.token.token.lf:before,.token.token.space:before,.token.token.tab:not(:empty):before{color:rgba(56,58,66,.2)}div.code-toolbar>.toolbar.toolbar>.toolbar-item{margin-right:.4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span{background:#e5e5e6;color:#696c77;padding:.1em .4em;border-radius:.3em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover{background:#c6c7c7;color:#383a42}.line-highlight.line-highlight{background:rgba(56,58,66,.05)}.line-highlight.line-highlight:before,.line-highlight.line-highlight[data-end]:after{background:#e5e5e6;color:#383a42;padding:.1em .6em;border-radius:.3em;box-shadow:0 2px 0 0 rgba(0,0,0,.2)}pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:rgba(56,58,66,.05)}.command-line .command-line-prompt,.line-numbers.line-numbers .line-numbers-rows{border-right-color:rgba(56,58,66,.2)}.command-line .command-line-prompt>span:before,.line-numbers .line-numbers-rows>span:before{color:#9d9d9f}.rainbow-braces .token.token.punctuation.brace-level-1,.rainbow-braces .token.token.punctuation.brace-level-5,.rainbow-braces .token.token.punctuation.brace-level-9{color:#e45649}.rainbow-braces .token.token.punctuation.brace-level-2,.rainbow-braces .token.token.punctuation.brace-level-6,.rainbow-braces .token.token.punctuation.brace-level-10{color:#50a14f}.rainbow-braces .token.token.punctuation.brace-level-3,.rainbow-braces .token.token.punctuation.brace-level-7,.rainbow-braces .token.token.punctuation.brace-level-11{color:#4078f2}.rainbow-braces .token.token.punctuation.brace-level-4,.rainbow-braces .token.token.punctuation.brace-level-8,.rainbow-braces .token.token.punctuation.brace-level-12{color:#a626a4}pre.diff-highlight>code .token.token.deleted:not(.prefix),pre>code.diff-highlight .token.token.deleted:not(.prefix){background-color:rgba(255,82,102,.15)}pre.diff-highlight>code .token.token.deleted:not(.prefix)::selection,pre.diff-highlight>code .token.token.deleted:not(.prefix) ::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) ::selection{background-color:rgba(251,86,105,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix),pre>code.diff-highlight .token.token.inserted:not(.prefix){background-color:rgba(26,255,91,.15)}pre.diff-highlight>code .token.token.inserted:not(.prefix)::selection,pre.diff-highlight>code .token.token.inserted:not(.prefix) ::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) ::selection{background-color:rgba(57,224,98,.25)}.prism-previewer-gradient.prism-previewer-gradient div,.prism-previewer.prism-previewer:before{border-color:hsl(0,0,95%)}.prism-previewer-color.prism-previewer-color:before,.prism-previewer-easing.prism-previewer-easing:before,.prism-previewer-gradient.prism-previewer-gradient div{border-radius:.3em}.prism-previewer.prism-previewer:after{border-top-color:hsl(0,0,95%)}.prism-previewer-flipped.prism-previewer-flipped.after{border-bottom-color:hsl(0,0,95%)}.prism-previewer-angle.prism-previewer-angle:before,.prism-previewer-easing.prism-previewer-easing,.prism-previewer-time.prism-previewer-time:before{background:#fff}.prism-previewer-angle.prism-previewer-angle circle,.prism-previewer-time.prism-previewer-time circle{stroke:#383a42;stroke-opacity:1}.prism-previewer-easing.prism-previewer-easing circle,.prism-previewer-easing.prism-previewer-easing line,.prism-previewer-easing.prism-previewer-easing path{stroke:#383a42}.prism-previewer-easing.prism-previewer-easing circle{fill:transparent}.svg-inline--fa,svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;transform:translate(-50%,-50%);transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;transform:scale(.25);transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;transform:scale(.25);transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;transform:scale(.25);transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;transform:scale(.25);transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;transform:scale(.25);transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:.08em solid #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{animation:fa-spin 2s linear infinite}.fa-pulse{animation:fa-spin 1s steps(8) infinite}@keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.fa-rotate-90{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical{transform:scaleY(-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical,.fa-flip-vertical{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{transform:scale(-1)}:root .fa-flip-both,:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270{filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.svg-inline--fa .fa-primary{fill:var(--fa-primary-color,currentColor);opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa .fa-secondary{fill:var(--fa-secondary-color,currentColor)}.svg-inline--fa .fa-secondary,.svg-inline--fa.fa-swap-opacity .fa-primary{opacity:.4;opacity:var(--fa-secondary-opacity,.4)}.svg-inline--fa.fa-swap-opacity .fa-secondary{opacity:1;opacity:var(--fa-primary-opacity,1)}.svg-inline--fa mask .fa-primary,.svg-inline--fa mask .fa-secondary{fill:#000}.fad.fa-inverse{color:#fff}.secondary-link{color:#9ca3af;background-image:none;margin-right:.8rem}.secondary-link:hover{color:#111827}</style><meta name="generator" content="Gatsby 2.25.4"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-1J86VZ2B2D"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-1J86VZ2B2D'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = true;

    var options = {
      send_page_view: false
    };
    if (true) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-1J86VZ2B2D', options);
  </script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=2024985cd1fb9cd6a58693ffa2e9ed8c" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=2024985cd1fb9cd6a58693ffa2e9ed8c"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=2024985cd1fb9cd6a58693ffa2e9ed8c"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=2024985cd1fb9cd6a58693ffa2e9ed8c"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=2024985cd1fb9cd6a58693ffa2e9ed8c"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=2024985cd1fb9cd6a58693ffa2e9ed8c"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=2024985cd1fb9cd6a58693ffa2e9ed8c"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=2024985cd1fb9cd6a58693ffa2e9ed8c"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=2024985cd1fb9cd6a58693ffa2e9ed8c"/><title data-react-helmet="true">A 1972 paper and the Single Responsibility Principle | wasabigeek</title><meta data-react-helmet="true" name="description" content="While trying to explain the Single Responsibility Principle, it&#x27;s originator calls attention to the paper &#x27;On the Criteria To Be Used in Decomposing Systems into Modules&#x27;. Why was this paper so significant? Let&#x27;s find out!"/><meta data-react-helmet="true" property="og:title" content="A 1972 paper and the Single Responsibility Principle"/><meta data-react-helmet="true" property="og:description" content="While trying to explain the Single Responsibility Principle, it&#x27;s originator calls attention to the paper &#x27;On the Criteria To Be Used in Decomposing Systems into Modules&#x27;. Why was this paper so significant? Let&#x27;s find out!"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="wasabigeek"/><meta data-react-helmet="true" name="twitter:title" content="A 1972 paper and the Single Responsibility Principle"/><meta data-react-helmet="true" name="twitter:description" content="While trying to explain the Single Responsibility Principle, it&#x27;s originator calls attention to the paper &#x27;On the Criteria To Be Used in Decomposing Systems into Modules&#x27;. Why was this paper so significant? Let&#x27;s find out!"/><link href="//fonts.googleapis.com/css?family=Arvo:700|Cabin:400,400i,700" rel="stylesheet" type="text/css"/><link as="script" rel="preload" href="/webpack-runtime-9b522474d6c718721c56.js"/><link as="script" rel="preload" href="/framework-cd3e1e804d552fa282ef.js"/><link as="script" rel="preload" href="/app-e38cfc43ef3b7c75fa8c.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/a9a7754c-6dde0b8ef106210f7c4e.js"/><link as="script" rel="preload" href="/commons-48a332a65198d59f1f51.js"/><link as="script" rel="preload" href="/789f7d7b6ffc49f28e70e7c9aef0b26f21ecb947-39d4daffcc3a462077dd.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-7e6ca54a46209395118f.js"/><link as="fetch" rel="preload" href="/page-data/blog/what-does-a-1972-paper-have-to-do-with-the-single-responsibility-principle/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1003244115.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:34.8rem;padding:2.175rem 1.0875rem"><header><h3 style="margin-top:0"><a style="box-shadow:none;color:inherit" href="/blog">wasabigeek</a></h3></header><main><article><header><h1 style="margin-top:1.45rem;margin-bottom:0">A 1972 paper and the Single Responsibility Principle</h1><p style="font-size:0.87055rem;line-height:1.45rem;display:block;margin-bottom:1.45rem">February 28, 2022</p></header><section><p>”<em>A class should only have one reason to change</em>” is a mantra that Object-Oriented advocates have chanted for years. Dubbed the “Single Responsibility Principle” (SRP), it remains somewhat abstract till this day ✨. Abstract enough, in fact, that it’s originator (Robert Martin) felt it worthwhile to explain again in a <a href="https://blog.cleancoder.com/uncle-bob/2014/05/08/SingleReponsibilityPrinciple.html">blog post</a> - 14 years after he first wrote about it!</p>
<p>That blog post begins by referencing and quoting a 1972 paper, ”<strong>On the Criteria To Be Used in Decomposing Systems into Modules</strong>” by David Parnas:</p>
<blockquote>
<p>“We have tried to demonstrate by these examples that it is almost always incorrect to begin the decomposition of a system into modules on the basis of a flowchart. </p>
<p>We propose instead that one begins with a list of difficult design decisions or design decisions <em>which are likely to change</em>. Each module is then designed to hide such a decision from the others.”</p>
</blockquote>
<p>The paper seemed significant, as Martin wrote that the SRP appeared “to align with Parnas’ formulation”. Could it demystify the SRP? What exactly was this paper about?</p>
<h2>The System: KWAC Index</h2>
<p>First, Parnas sets the stage - he would compare two approaches (“criteria”) for modularizing a system, showing that one provided superior flexibility. That system was a KWAC (KeyWord Alongside Context) index.</p>
<p>KWAC was one of many indexing systems used for technical manuals. Important words in sentences were emphasised by “rotating” or “circularly shifting” the word such that it was the first. For example, given the title ”<strong>Office 2003 Timesaving Techniques for Dummies.</strong>” and the keyword ”<strong>Dummies</strong>”, we’d get ”<strong>Dummies. Office 2003 Timesaving Techniques for</strong>”, as below:
<img src="https://upload.wikimedia.org/wikipedia/commons/6/61/KWAC.png" alt="KWAC Index"></p>
<p>The next sections explain Parnas’ modularizations. This <a href="https://youtu.be/R7X4B3-k7g4?t=1036">video explanation</a> (starting from 17:16) helped me visualise and understand them, and I’ll borrow liberally from it 🙇‍♂️.</p>
<h2>Modularization 1: “Flowchart”</h2>
<p>In the first modularization, Parnas modelled the problem as a flowchart, using the individual steps to break apart the modules (an approach which I’m guilty of applying at face value):
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1afa3be2a535182b9280816c458ea9a8/dd507/Criteria%20for%20Decomposition%20of%20Modules%201.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACLklEQVQoz31TS2sTURjNP3BhF0opEaWgUBOKgguxoC4UpIKCYNWFSLNRKEGookigUKwuBVeCS0kRKSa0pQ3NpC19pGkaW0gmlVjqcyYTm6TNs/O4c7zzji68cPjux3z3zPleLkVVoBAK3cq6JSZ2mkX8rHLgajx+NXlwdWqpL9QFyGasbbX3qgyXbDkmqRYgKxIIIbiW6seB2WPoiHrQPtqF9ikP2uZPwLvYg8p+GSpgxKsGNA6XroxCIhK0s1Rcw9XkbXyrfkWyvI4PXAhhYQpj2+MIcZMYEyYwLUQhKfuOQqLZFoXaB5GIOmGYn0FbuBOZchpvvr+Db90Pf+IpHiQGMRB/jPurg3j2eRh1sUbLQkyFVpaUUDElW4STfAzu9x5kSyxGtl+jN3ELfbM+3Ijdw825flyP34WP9aMmVimhaqesqZPtlImjcCLPoCN0EtldFpt7XzBN/VhhAREuBkaYR7Qwh6XCCk1Z/KuRtkKrIZJFyDNwBw2Fd9IDOBjpxNFgN9yjXhwJenE40oVT8fOoNMt6vPwvoZWyRTien8Ghj8fB0hpyjTxWd1LYKKWRLH5CqrShI7ObpY8lZyr0xhjELr1DLTVkfi/i9PJFbFVyeMgOoXv5AnoWenE2fBnnmCs4s3KJTkEfquIeHRvVVqjYCs2LM6gSmnJDL8PbH0E8yg0hsDmCwNpzBDIv8CQ3jJdbr9CQ6naX7cUwFDp/sEhVGqhtyv+OYpG1LgXFH+xPB2CsmBosAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Criteria for Decomposition of Modules 1.png"
        title="Criteria for Decomposition of Modules 1.png"
        src="/static/1afa3be2a535182b9280816c458ea9a8/fcda8/Criteria%20for%20Decomposition%20of%20Modules%201.png"
        srcset="/static/1afa3be2a535182b9280816c458ea9a8/12f09/Criteria%20for%20Decomposition%20of%20Modules%201.png 148w,
/static/1afa3be2a535182b9280816c458ea9a8/e4a3f/Criteria%20for%20Decomposition%20of%20Modules%201.png 295w,
/static/1afa3be2a535182b9280816c458ea9a8/fcda8/Criteria%20for%20Decomposition%20of%20Modules%201.png 590w,
/static/1afa3be2a535182b9280816c458ea9a8/efc66/Criteria%20for%20Decomposition%20of%20Modules%201.png 885w,
/static/1afa3be2a535182b9280816c458ea9a8/c83ae/Criteria%20for%20Decomposition%20of%20Modules%201.png 1180w,
/static/1afa3be2a535182b9280816c458ea9a8/dd507/Criteria%20for%20Decomposition%20of%20Modules%201.png 1528w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span>
There’s a design flaw that isn’t obvious in the diagram - all the modules rely upon common data stored in memory using pretty low-level operations. The implications will become clearer later on.</p>
<p>Here’s what each module did:</p>
<ul>
<li>
<p><strong>Input</strong> </p>
<ul>
<li>
<p>Given an example input file like:  </p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cat input.txt</span>
Program Development <span class="token comment"># line 1</span>
On The Criteria <span class="token comment"># line 2</span></code></pre></div>
</li>
<li>Parses the input text file (each line is a book title) and stores in memory using low-level operations. </li>
<li>There’s a section of the <a href="https://youtu.be/R7X4B3-k7g4?t=1415">video (23:36)</a> that explains this, which if I’ve understood right goes something like: <strong>(1.)</strong> memory at the time was accessed in groups of 4 characters (bytes), <strong>(2.)</strong> the input was split across these groups, with spaces in between words, <strong>(3.)</strong> the split between lines would be stored separately.</li>
<li>We can visualise the parsed and stored example file as something like:
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d8bd433f4cb51feb4e5a1fab55bbb828/fa60d/Criteria%20for%20Modularization%20-%20Approach%201%20Input%20Storage.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 12.837837837837837%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAlElEQVQI1z2P2xKEIAxD/f8PlYsiVxUQzabuzj5kWk7TaZhar8gl4cGNlCPkLYop4H4GZxG1naj9/LOYf4wKyWMI46xybyp7gV0MrtFhrEbZMzKlzYx2tS87ysu1URj3BcUqLDGIsgqdu0rPL5t82LCs9k3p3IIQPTYy6eWq4TFJLlrJjnN/mfg9vc47BkiwK338zQfBU+YNLIkDVQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Criteria for Modularization - Approach 1 Input Storage.png"
        title="Criteria for Modularization - Approach 1 Input Storage.png"
        src="/static/d8bd433f4cb51feb4e5a1fab55bbb828/fcda8/Criteria%20for%20Modularization%20-%20Approach%201%20Input%20Storage.png"
        srcset="/static/d8bd433f4cb51feb4e5a1fab55bbb828/12f09/Criteria%20for%20Modularization%20-%20Approach%201%20Input%20Storage.png 148w,
/static/d8bd433f4cb51feb4e5a1fab55bbb828/e4a3f/Criteria%20for%20Modularization%20-%20Approach%201%20Input%20Storage.png 295w,
/static/d8bd433f4cb51feb4e5a1fab55bbb828/fcda8/Criteria%20for%20Modularization%20-%20Approach%201%20Input%20Storage.png 590w,
/static/d8bd433f4cb51feb4e5a1fab55bbb828/efc66/Criteria%20for%20Modularization%20-%20Approach%201%20Input%20Storage.png 885w,
/static/d8bd433f4cb51feb4e5a1fab55bbb828/c83ae/Criteria%20for%20Modularization%20-%20Approach%201%20Input%20Storage.png 1180w,
/static/d8bd433f4cb51feb4e5a1fab55bbb828/fa60d/Criteria%20for%20Modularization%20-%20Approach%201%20Input%20Storage.png 1792w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></li>
<li>We’ll call the above data “Characters”</li>
<li>The module also outputs “Lines”, which is an array stating the start of each line (e.g. 1, 21 above)</li>
</ul>
</li>
<li>
<p><strong>Circular Shifter</strong></p>
<ul>
<li>Accessing “Characters” and “Lines”, it outputs an array of “Shifts”.</li>
<li>Each “Shift” stored the line number, as well as the starting index of each word.</li>
</ul>
</li>
<li>
<p><strong>Alphabetizer</strong></p>
<ul>
<li>Accessing “Characters” and “Shifts”, it sorts the “Shifts” alphabetically and outputs them as “Alphabetized”.</li>
</ul>
</li>
<li>
<p><strong>Output</strong></p>
<ul>
<li>
<p>Accessing “Characters” and “Alphabetized” shifts, outputs the KWAC index, something like:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># Using the golang example from the video, link in Further Reading</span>
<span class="token comment"># go run m1/main.go input.txt</span>
Criteria <span class="token operator">|</span> On The <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
Development <span class="token operator">|</span> Program <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
On The Criteria <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
Program Development <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
The Criteria <span class="token operator">|</span> On <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span></code></pre></div>
</li>
</ul>
</li>
</ul>
<p>A helpful visual summary of all the outputs and stored data:
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/a0b3077f3d649c4e682b3f66972f78c4/97755/Data%20Structures%20-%20On%20The%20Criteria%20for%20Decomposing%20Systems%20-%20Diego%20Ongaro.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACT0lEQVQoz3WSy2tTURDGb4Va6UqqG6sVFCKU2o0IPiLWWCRNaktVgmBEwYXgwpo0ttqFaa2KIIiopEkRJH+BKEUEFyKKS/curMU81JrHfeS+X59zTtIsROfyMWfmzP3dmeEKXUMJdAQT6Aql0Hd6HrvO3sXO2AL6ztzGjol59I6nsY3UyzX3l9JUk8b2iVv83BO5CaFzKAXh4CQCBKpKMqpinSShUhfJi2joOlTD4Gr8RwrVOK6Dpy/eQ9jIgAeuYg8Ba/UaVle/4uevMgrF7yiXC/B8B4D3T/ktub4LZtmXHwg4fB3C0QQC8XvQLROGSR1pKjSdpDW4JFmEokhQVQUyea6GTF5Gg3ISeZ8+vMiAnSemIYSSCFwgoGlwQK1W4YUqAxK4+ZKEuljjORazPMutVdZQrVd5x0uvPkLoHk6h48g17D1/hwNdz0al+humbbbH8ehhXRVLBZrAaI3qc+DKtxUUf5T4yDnW4abwDDaEbmDw4iMqAS3XgkLj6IZGY7j0AYeLdcbW0c6TdIo1ikUCt3fY0x9D9+7j2Nx/DG/evuMXbCSLOvQI5LWA6zAG8VjXJMMyOFCmemZ8h1u3DOJc7BQOHQ5iduEBv9AMHbZjcxD7HRzXhsp2SV0y73rNzhmcxQrlQfM9WybgvoFL+PylhLmHeTx+kkHT3Jb3295xDFiWBtvWsW6eb1PehEl5Zs9ff4Jwcv8V5PLLmLycQDAax+hsHtGpDCKpLNfYzBLGSWPTOUSmsggnFzFCfpTiETqHkxmEExlEqXYgfh9/AA6jzTJuFj/WAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Data Structures - On The Criteria for Decomposing Systems - Diego Ongaro.png"
        title="Data Structures - On The Criteria for Decomposing Systems - Diego Ongaro.png"
        src="/static/a0b3077f3d649c4e682b3f66972f78c4/fcda8/Data%20Structures%20-%20On%20The%20Criteria%20for%20Decomposing%20Systems%20-%20Diego%20Ongaro.png"
        srcset="/static/a0b3077f3d649c4e682b3f66972f78c4/12f09/Data%20Structures%20-%20On%20The%20Criteria%20for%20Decomposing%20Systems%20-%20Diego%20Ongaro.png 148w,
/static/a0b3077f3d649c4e682b3f66972f78c4/e4a3f/Data%20Structures%20-%20On%20The%20Criteria%20for%20Decomposing%20Systems%20-%20Diego%20Ongaro.png 295w,
/static/a0b3077f3d649c4e682b3f66972f78c4/fcda8/Data%20Structures%20-%20On%20The%20Criteria%20for%20Decomposing%20Systems%20-%20Diego%20Ongaro.png 590w,
/static/a0b3077f3d649c4e682b3f66972f78c4/efc66/Data%20Structures%20-%20On%20The%20Criteria%20for%20Decomposing%20Systems%20-%20Diego%20Ongaro.png 885w,
/static/a0b3077f3d649c4e682b3f66972f78c4/c83ae/Data%20Structures%20-%20On%20The%20Criteria%20for%20Decomposing%20Systems%20-%20Diego%20Ongaro.png 1180w,
/static/a0b3077f3d649c4e682b3f66972f78c4/97755/Data%20Structures%20-%20On%20The%20Criteria%20for%20Decomposing%20Systems%20-%20Diego%20Ongaro.png 2536w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h2>Modularization 2: “Information Hiding”</h2>
<p>In this modularization, Parnas uses the criteria of “Information Hiding”. The definition is worth mentioning for it’s relevance to the SRP:</p>
<blockquote>
<p>Every module in the second decomposition is characterized by its knowledge of a design decision which it hides from all others. Its interface or definition was chosen to reveal as little as possible about its inner workings.</p>
</blockquote>
<p>Practically speaking, there were three major differences that I noticed in this modularization:</p>
<ul>
<li>The details of how the characters were stored was encapsulated (hidden) via a new module, “Line Storage”. This meant that other modules did not have to know the low-level layout of the data. Instead, they would have a simpler interface to store and retrieve characters.</li>
<li>The dependencies of modules are also tweaked, such that only two modules interact directly with “Line Storage”, as opposed to every module having to access “Characters” in Modularization 1.</li>
<li>Modules in Modularization 1 depended on outputs or common data from previous modules. In contrast, modules in Modularization 2 depended directly on the interface of other modules (similar to calling methods on the module, a more Object-Oriented style).
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/5ec2630668bb8897c5864246f64495fe/85e74/Criteria%20for%20Decomposing%20Modules%202.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 55.4054054054054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACYElEQVQoz4WTXUhTYRjHd91dlEEXEZRO66IgSzQE68YyizAJywsxSCWKbF4E1mUfNyOkLOimKC2sSRqKkTZMl6WopMWmiU5k6OYoJ25uOztfv95z5vogpOfw53m/+L3Px3ssqqai6AqakKrJLMdDhGJLhCQh2fAhlsQ8LK2g6yqyOCNrib+UWJOiKVg0cUjXNAzzrEyzuXcXm/qtpHVmkvZc+J4sNvRup2DwOJK0yv/Mgg43Z+5ya9pOVI7hCHTgCHbQ6u+k1Sd8sJOWxXbefX+PIiW4MdVA5dglaobrqB62UT1ko+qzjRp3HbNhrwAKK/5UQbGrlLAcwe59gH3yHnZ3I/aJRu58vc/tyQYezzUjC+A5t419rsPkvzlGXtcRDrYJOYvIHy1mYtmTBJ52VVHurGQuNk/6QC4Z3fuxvjrAzrZsMltz2Nazl9LxClD19XMVW5qurQEHqynpO2uuK6psFl4RX0SKEFNixBIxAquLzMf8zEt+FgzFxTi6QCAaMM+roheq0ZRUhCVvz5jAVNdkAY5KUXGzhi/sZ/dAARu7drC1KYu05gy2PLOKeTrW/myC8WAyGAE2gWUfazjlLP83DS2ZiuG7f/TxxNfCsxkHTbMvafY6eOp7gcPfTlSJmukqqQhPjFZycqSMpfgyte7r1HrquTJ2jQsf6rg8Xs9Fz1Uezj5at3wpmJG2Rdd1vqx4+BaZwhvxkTN0lJyRQnKdQq8LyXMVsWfoEOXj55HkVbNeCVX69ZiNEqlrMMUAGuTfN4nCqgqykmyMrMtmkxQxN9aN/VQkqvln/TE2vcpPVhTqrKDxnxgAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Criteria for Decomposing Modules 2.png"
        title="Criteria for Decomposing Modules 2.png"
        src="/static/5ec2630668bb8897c5864246f64495fe/fcda8/Criteria%20for%20Decomposing%20Modules%202.png"
        srcset="/static/5ec2630668bb8897c5864246f64495fe/12f09/Criteria%20for%20Decomposing%20Modules%202.png 148w,
/static/5ec2630668bb8897c5864246f64495fe/e4a3f/Criteria%20for%20Decomposing%20Modules%202.png 295w,
/static/5ec2630668bb8897c5864246f64495fe/fcda8/Criteria%20for%20Decomposing%20Modules%202.png 590w,
/static/5ec2630668bb8897c5864246f64495fe/efc66/Criteria%20for%20Decomposing%20Modules%202.png 885w,
/static/5ec2630668bb8897c5864246f64495fe/c83ae/Criteria%20for%20Decomposing%20Modules%202.png 1180w,
/static/5ec2630668bb8897c5864246f64495fe/85e74/Criteria%20for%20Decomposing%20Modules%202.png 1436w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></li>
</ul>
<p>Each module in greater detail:</p>
<ul>
<li>
<p><strong>Input</strong></p>
<ul>
<li>Like Modularization 1, also parses the input file, but this time initializes a “Line Storage” and inserts the data.</li>
</ul>
</li>
<li>
<p><strong>Line Storage</strong></p>
<ul>
<li>Think of it like an Object that has methods for inserting and retrieving characters by line (e.g. get Character 5 of Line 1, Word 2).</li>
<li>Note: Unlike Modularization 1, this means callers do not need to know the nitty-gritty details of how data is stored.</li>
</ul>
</li>
<li>
<p><strong>Circular Shifter</strong></p>
<ul>
<li>Generates the circular shifts from Line Storage in an initialization step.</li>
<li>Instead of outputting “Shifts”, the module itself provides an interface (like an Object) similar to Line Storage, but allows retrieval of characters by their <em>shifts</em> instead of lines (e.g. get Character 5 of <em>Shift</em> 1, Word 2).</li>
</ul>
</li>
<li>
<p><strong>Alphabetizer</strong></p>
<ul>
<li>Retrieving the characters from Circular Shifter, this modules sorts by alphabet and remembers the shifts in an initialization step.</li>
<li>Instead of outputting the “Alphabetized” shifts, the module also provides an interface for getting ordered Circular Shifts indexes (e.g. tell me the shift number that’s in the 2nd sorted position).</li>
</ul>
</li>
<li>
<p><strong>Output</strong></p>
<ul>
<li>Uses Alphabetizer and Circular Shifter to generate the KWAC Index.</li>
</ul>
</li>
</ul>
<h2>Comparison: Changeability</h2>
<p>While other comparisons were made, the analysis of changeability speaks most to the SRP. Parnas begins by suggesting some “likely” change scenarios. Most require many modules to be updated in Modularization 1, but have a much smaller blast radius in Modularization 2:</p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Modularization 1</th>
<th>Modularization 2</th>
</tr>
</thead>
<tbody>
<tr>
<td>A. Deciding to store “Characters” in a different medium (e.g. filesystem) instead of memory</td>
<td>All modules</td>
<td>Line Storage</td>
</tr>
<tr>
<td>B. Deciding on a different way to store the “Characters” (e.g. group by words instead of every 4 characters)</td>
<td>All Modules</td>
<td>Line Storage</td>
</tr>
<tr>
<td>C. Deciding to store the full sentences of each circular shift instead of their indexes</td>
<td>Circular Shifter, Alphabetizer, Output</td>
<td>Circular Shifter</td>
</tr>
<tr>
<td>D. Deciding to change “Alphabetized” generation to be lazy or distributed (possibly due to a large dataset?)</td>
<td>Difficult to achieve as computation must be completed before output</td>
<td>Achievable as Output doesn’t need all the shifts to be “alphabetized”</td>
</tr>
</tbody>
</table>
<p>Let’s take Scenario B as an example - since all the modules in Modularization 1 depended upon a specific layout of “Characters” in memory, changing that layout would require changing every module. However, in Modularization 2, this would only require a change in the implementation of “Line Storage” - the interface could stay the same, meaning other modules were shielded from this change!</p>
<p>So the takeaway here is that good “information hiding” (a.k.a the SRP) results in a system that is easier to change. </p>
<h2>Conclusion</h2>
<p>So where does the paper leave us in relation to the SRP? Personally, I left with a better understanding of <em>why</em> it was important - it should result in code that is easier to change. However, even with the (helpful) example, we don’t get a magic formula for applying the SRP - it remains more art than science.</p>
<p>What’s your framework for beginning “with a list of difficult design decisions or design decisions which are likely to change”?</p>
<p>Discuss on <a href="https://news.ycombinator.com/item?id=30529854">Hackernews</a>.</p>
<p>(I apologise for the mix of American and British english 😆.)</p>
<h2>Further Reading:</h2>
<ul>
<li>Diego Ontaro’s <a href="https://youtu.be/R7X4B3-k7g4?t=1036">talk</a> and his example <a href="https://github.com/ongardie/kwic">code</a> in Go.</li>
<li><a href="https://en.wikipedia.org/wiki/Key_Word_in_Context">KWIC Indexes in Wikipedia</a> - note that the original paper calls it a KWIC index, but as Diego Ontaro explains, it’s actually a KWAC index.</li>
<li>Parnas’ Original Papers: <a href="https://www.win.tue.nl/~wstomv/edu/2ip30/references/criteria_for_modularization.pdf">1972</a> (which references an earlier paper written in <a href="https://prl.ccs.neu.edu/img/p-tr-1971.pdf">1971</a> with more implementation details).</li>
<li>Adrian Colyer’s elegant and higher-level <a href="https://blog.acolyer.org/2016/09/05/on-the-criteria-to-be-used-in-decomposing-systems-into-modules/">summary</a> of the same paper.</li>
<li>The paper does make a few other comparisons and points, I’ve left them out to keep this more focused to the SRP. A summary of what’s missing can be found in this <a href="https://gist.github.com/wasabigeek/08a09190a90ac4463660debce778ef31">gist</a>.</li>
</ul></section><section><h2>Comments</h2><div id="comments-container"></div></section><hr style="margin-bottom:1.45rem"/><footer><div style="display:flex;margin-bottom:3.625rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.725rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAC4jAAAuIwF4pT92AAADm0lEQVQ4y41UXShkcRSfuXcWMRiMb0WTHbS1JbxoaH3kYRgrRc3KA/mIonmgRTG7HiQp7QOxxXphUSvxYNdHakvaLe0DWbt42nwUSUZp5977P3vOnbljJnbbU7f7///vOb/7O+d3/kelesBCQ0NVubm58jo4ONjnGwCoKyoqOG/ff1pERIT8DgkJITCe1gEBAY/w9RQfneLnDUq+cXFxvkApKSn3QL1YvGltbQWDwfC9pKTkW3Z2djOd22w27kFWTU1NnnVQUBA58UVFRZxWq7Xq9fpParX698nJCRweHoLD4YCMjIwD9DGo/sPUXmsuKyvr8uDgAFJTU6WdnR0J6ydtbW0JaWlpYltbGyQkJIyQ4/z8PBFxRSELVWFhoQcM62b29/f/GBYWZkSn0pWVFaivrxenpqbYxcUF6+zshLGxMSeCQ3R09CzFNDQ08A+x49wFfo1AXyMjIyml5/n5+dLa2hrY7XaGe2Y0Gtn+/r5ktVohPT19Lz4+/jHFob8ru5iYGG/QJ/iYSCNU9t3MzAwRgZubG3Z8fAxLS0uwuroKZ2dn0NPTI6DSgL4v3Jm6WGJ6CpgGhfhJIFVVVVBcXAzt7e0Spsu6u7thZGSE4QMTExNMQqMflZWVOTAukYKxzi6GOp1OEULX1dV1BS6TNjc3xZycHNbc3Ex75j6HgoICqKysZH19feLs7CzwPF9OwUlJSbzSJgqgoaWlRSIRqEbDw8NsenoaRkdHZTBKc3d3F3p7e+X16empgIoDluwlBWM9XYColAwYHh6uTUxM/IJ/h/HxcbG6upohS8DmBVQXjo6OYGFhAerq6tjVlZyIgMoDx3E2H4Zkfn5+ysZCNwJVFdfX12Vmi4uLQDXs7+8nIQBrrKQvdHR0kCgW923iPX0YGBioXKH8oaEhchapblh7T+3c5gEj1haL5Qfp6jMk5ubmVNjESh3jzWazgyKcTicTRZEASF1WU1PDrq+vaS+QaI2NjcSuxH0ZfBs7MzNThddIOXy7sbFBmLfIkJiKtbW1gslkEm5vb+V2GRwcBI1G84qckQznbmzfa4KNrLDU4yz8RYNAEAQ5v/Pzc9je3pabGsH3cFhUkePl5aUn3quffdCVWqbiCPuAY+pzXl7eamlp6Xv8iR3Pn9EkIoeBgQHPIElOTvZlFxsbezct7kD/alFRUfyDzLyNAFFtzxgrLy/nMFsa+arl5WUO+1ODPcvRdFZscnLyHs4fRNbwe3bau0MAAAAASUVORK5CYII=" alt="Nick" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/2024985cd1fb9cd6a58693ffa2e9ed8c/8ba1e/wasabigeek-logo.png 1x,
/static/2024985cd1fb9cd6a58693ffa2e9ed8c/f937a/wasabigeek-logo.png 1.5x,
/static/2024985cd1fb9cd6a58693ffa2e9ed8c/71eb7/wasabigeek-logo.png 2x" /><img loading="lazy" width="50" height="50" srcset="/static/2024985cd1fb9cd6a58693ffa2e9ed8c/8ba1e/wasabigeek-logo.png 1x,
/static/2024985cd1fb9cd6a58693ffa2e9ed8c/f937a/wasabigeek-logo.png 1.5x,
/static/2024985cd1fb9cd6a58693ffa2e9ed8c/71eb7/wasabigeek-logo.png 2x" src="/static/2024985cd1fb9cd6a58693ffa2e9ed8c/8ba1e/wasabigeek-logo.png" alt="Nick" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div><p>By <strong>Nick</strong>, a <!-- -->Business grad turned Software Engineer, living in sunny 🇸🇬. I write mostly about Ruby and Rails, not wasabi (sorry!).</p><div><a class="secondary-link" href="https://twitter.com/wasabigeek" title="Twitter"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 fa-lg " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a class="secondary-link" href="https://github.com/wasabigeek" title="GitHub"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 fa-lg " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div></div></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/blog/polymorphism-with-fries-please/">← <!-- -->Polymorphism, with fries please</a></li><li></li></ul></nav></main><footer>© <!-- -->2022<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/what-does-a-1972-paper-have-to-do-with-the-single-responsibility-principle/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-7809e1a9a2ac6c9bb722.js"],"app":["/app-e38cfc43ef3b7c75fa8c.js"],"component---src-pages-404-js":["/component---src-pages-404-js-44d135f273b01cde51a1.js"],"component---src-pages-blog-index-js":["/component---src-pages-blog-index-js-b94f2a8c6a4d848a2349.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f826a46760b3d5958a20.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-c7a2b81a2ef031cf3d6c.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-7e6ca54a46209395118f.js"]};/*]]>*/</script><script src="/polyfill-7809e1a9a2ac6c9bb722.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-7e6ca54a46209395118f.js" async=""></script><script src="/789f7d7b6ffc49f28e70e7c9aef0b26f21ecb947-39d4daffcc3a462077dd.js" async=""></script><script src="/commons-48a332a65198d59f1f51.js" async=""></script><script src="/a9a7754c-6dde0b8ef106210f7c4e.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-e38cfc43ef3b7c75fa8c.js" async=""></script><script src="/framework-cd3e1e804d552fa282ef.js" async=""></script><script src="/webpack-runtime-9b522474d6c718721c56.js" async=""></script></body></html>