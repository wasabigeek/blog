<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[wasabigeek]]></title><description><![CDATA[A blog about my foray into tech and the world of indie hacking.]]></description><link>https://www.wasabigeek.com</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 07 Jan 2021 15:38:03 GMT</lastBuildDate><item><title><![CDATA[Window Functions, Visualized - Rankings]]></title><description><![CDATA[Leading from an introduction to Window Function Calls, let’s dive deeper into the different Window Functions that are available. Today, we…]]></description><link>https://www.wasabigeek.com/blog/window-functions-visualized-rankings/</link><guid isPermaLink="false">https://www.wasabigeek.com/blog/window-functions-visualized-rankings/</guid><pubDate>Mon, 04 Jan 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Leading from an &lt;a href=&quot;/blog/window-function-calls-an-introduction/&quot;&gt;introduction to Window Function Calls&lt;/a&gt;, let’s dive deeper into the different Window Functions that are available. Today, we’ll look at &lt;code class=&quot;language-text&quot;&gt;row_number&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;rank&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;dense_rank&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;percent_rank&lt;/code&gt;. We’ll be using the same expenses table from the previous post, which had entries like:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;In the following examples, our &lt;strong&gt;window frame&lt;/strong&gt; will be the whole expenses table, ordered by highest to lowest cost:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; window &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OVER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; cost &lt;span class=&quot;token keyword&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  expenses&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  expenses&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;cost
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; expenses&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/116c3063fe1adc7cbe60400693705952/17d12/window_frame.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 62.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAB+UlEQVQoz3VS7ZKaQBDk/R8rdfmhd15ZeKeYKKiIigrCgnxDZ3qiqVRSN1XLFjuzPT3da0GiG4BGPlxl06NoBnwVg6TqrtdaU/X4t9Lq2hamqLE4ZHAvBfy4xLsXI8kr9F2LqpK9HwRIGjaN5j8POYJLitdlgLl3Qp5luN1umrculws818VqtcJsNsPPpYM0SeDv9wiCAMwbY9BKY9a9vk3w8vId75MJurZBXddwHAeJAEZRBIufxWIhYDZGoxHG4zHO5zOm0ymWzlIB0zTVi9udr7WfHx9wBTyKYlyvV9i2rc0PhwOsOI7BtdvusBdWvMA4Ho/KiuyMEcCmRRxu8MNh89+AXdehLEtst1sURaHNLc7OS77v43Q6KRPqxWTf93rBmAxtccPt5GEm7BbzuWrLyPNcpWCQrQJmIup6vUYYhg8nBx2BIpdVDRMdUWZXJKlROSgTa/SFCMv7/a7/CkgxqdFY9KMxDDLbbDYqepGGSNxvuB9tJCb/7xmxlusPIBlyfurgeZ4esmsgAtf3WADPSHYTFMGbmsA6mkD2DN6l9jryU8PnyBR6I6AE5Pg6ct0iDWYori5SYTg82Dyl+ZupMqQedPOrSORN0iiaw1rKc5ZmNO0ZTyMVkA6HjwIKzp0J7gSj8wy6yjOOTK05jU4gjQIZmcaw4S/pG47q6zyzvgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Original table to window frame&quot;
        title=&quot;Original table to window frame&quot;
        src=&quot;/static/116c3063fe1adc7cbe60400693705952/fcda8/window_frame.png&quot;
        srcset=&quot;/static/116c3063fe1adc7cbe60400693705952/12f09/window_frame.png 148w,
/static/116c3063fe1adc7cbe60400693705952/e4a3f/window_frame.png 295w,
/static/116c3063fe1adc7cbe60400693705952/fcda8/window_frame.png 590w,
/static/116c3063fe1adc7cbe60400693705952/efc66/window_frame.png 885w,
/static/116c3063fe1adc7cbe60400693705952/c83ae/window_frame.png 1180w,
/static/116c3063fe1adc7cbe60400693705952/17d12/window_frame.png 1666w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2&gt;row_number&lt;/h2&gt;
&lt;p&gt;Let’s start with &lt;code class=&quot;language-text&quot;&gt;row_number&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; ROW_NUMBER&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OVER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; cost &lt;span class=&quot;token keyword&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All &lt;code class=&quot;language-text&quot;&gt;row_number&lt;/code&gt; does is add a running number for each row in the frame, starting from 1:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;row_number&lt;/th&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;groceries&lt;/td&gt;
&lt;td&gt;60&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;dinner&lt;/td&gt;
&lt;td&gt;35&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;taxi&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;supper&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;tea break&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;dense_rank&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;dense_rank&lt;/code&gt; is more interesting. Reviewing the previous example, we can see that there were a few entries that have the same cost. The Postgres documentation refers to these as &lt;strong&gt;peer groups&lt;/strong&gt;, and &lt;code class=&quot;language-text&quot;&gt;dense_rank&lt;/code&gt; adds a running number counting by the groups instead of rows:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5ebdb9248832051f5d8c653f55af4d0e/ce92a/dense_rank.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 77.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACUElEQVQ4y3WU23KbMBCG+/5Pk9teZJKbpq7bTNxJnY4PcQBDAAHGHGRxEn93hU3scaqZ9Y7R6tO/u5K+gEbf9+yQ5zmCIECSJEjTlHyMOB5MCIEwDLHb7RBFEXzfH7/zGv7P48s5kAMZNp1OMZ/PcXd/B8uy0HUtVqsVJpMJqqqCbdu4ubnBbDbDw8M3M8ebMecK6Loutq6HN8uGZTsUKEhVSnOxMVbIyljVyRjGG18p5JQ5GH2DrpFkB7S1hG4VhtEf7Xow2CjkH30EVnWNRHgI7Tk2yz9AkwN1Bq0SuOsZ8nCNPl2Cw7vCha6yYQv6cJHyaWSywqvjoQwXiLZ/ASWgZUBGaQcWVEHq670B9rolr0e9I7BuNZ6cAnHZYl8oRIGDXGzwNLlF6BC02UMfEoTbJeo8NKrPkz6V60Khm1bYxApS1XDtJaQsEYgYeSnHhWm6Q9NU6KVvlGm1o1LLEc7NUkoNQDtR+O2WKChlx/OQChuLxZJ2DUag77+j4A0OBNQd+opSr4sRyA3NsmwAeqTw+1uOdZBDpgFULggcwg8jE6x5QSFB1SEQKeu7s5T1NfDQdJC1xvtOUvt9qHiNpx/3WL/8JFqGdm/Bf32EFNTh0h06y03RDY4l/ACeimrAbQ/LecP7+pHsF54nX/E8veUzgu1mbpT3uW2AXENd+p+nbM6iHqQngY3IW8GzFwi2a7ibF0ozRZG4aGRMHRcm3hwd4/trhecTQkTo2ubyGhzr9L9b8qnCE5CvkEed5nMVsJm7Orw0H/7S+A3gB4OB/wB973xhjtMeBQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Dense Rank Peer Groups&quot;
        title=&quot;Dense Rank Peer Groups&quot;
        src=&quot;/static/5ebdb9248832051f5d8c653f55af4d0e/fcda8/dense_rank.png&quot;
        srcset=&quot;/static/5ebdb9248832051f5d8c653f55af4d0e/12f09/dense_rank.png 148w,
/static/5ebdb9248832051f5d8c653f55af4d0e/e4a3f/dense_rank.png 295w,
/static/5ebdb9248832051f5d8c653f55af4d0e/fcda8/dense_rank.png 590w,
/static/5ebdb9248832051f5d8c653f55af4d0e/efc66/dense_rank.png 885w,
/static/5ebdb9248832051f5d8c653f55af4d0e/c83ae/dense_rank.png 1180w,
/static/5ebdb9248832051f5d8c653f55af4d0e/ce92a/dense_rank.png 1459w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So changing the SQL to this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; DENSE_RANK&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OVER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; cost &lt;span class=&quot;token keyword&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Gives us this:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;dense_rank&lt;/th&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;groceries&lt;/td&gt;
&lt;td&gt;60&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;dinner&lt;/td&gt;
&lt;td&gt;35&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;taxi&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;supper&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;tea break&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: I’m actually not sure how Postgres orders the rows &lt;em&gt;within&lt;/em&gt; a peer group - in my small example, it looks like an implicit &lt;code class=&quot;language-text&quot;&gt;ORDER BY ID DESC&lt;/code&gt; was added, but the Postgres &lt;a href=&quot;https://www.postgresql.org/docs/current/queries-order.html&quot;&gt;docs&lt;/a&gt; also say for general ordering, &lt;em&gt;if sorting is not chosen, the rows will be returned in an unspecified order&lt;/em&gt; 🤷‍♂️.&lt;/p&gt;
&lt;h2&gt;rank&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;rank&lt;/code&gt; has one big difference from &lt;code class=&quot;language-text&quot;&gt;dense_rank&lt;/code&gt; - it counts the “gaps” in the previous peer group:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/16828e5d43e47a6d721fa4d21f043acd/c1b63/rank.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 90.54054054054053%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAAC+klEQVQ4y6VU227aQBDl/3+lD3lpHlqkViklUUiiQBrAIcGAsY1v+IJje9e305mFIFDUp640mp31zPHcO77vwzAMeJ6H7XYLlpmzbFmWos1mA9u2jzKT4zjqjblpmtB1HVVVocOPDNLv96FpGnq9Hi4vL5UynzAMMRgMFAifIAhwcXGB29tb9dbtfkdRFEovz3N0DGOFxWKBlxcN4/EzhsNHTCZjGKsVXNdVRvp8jjVHQTJ7wz+ezWbKbjqdKp3X11dIKdFhIU4SNC2QFQJl1aCmuyxrFKJUJMvqKEshUNUNhVcrAA6Tab1eQ9C3DudASgGUEVDHgNiiLQLFURDVCdCkaHOXdFIVNmqxp5PDOBx6x3E9yDzBevaA6+s+Ascg5Qx1QeBNhtXbGLPJEG3mog5flHHz7qDeGft70yjOhVOAHG4UBijjFSJnjibfe6e4jJH4BtLQRlslRJkybtuGqD3c23PAQkg41hKZ/4bV9BbaqA+REACHKyNsHR3+YoxmOUb9npyFyWCfAWWJzeIPSgp7RZU1lnOUIqdYSiKJNCVQY4Hix1fI5fMeqC6Vl//00LWXiL0lNq5P7fOCXZoevYjiBK7johzdQ2i/93lLLarffA94kkNVZRWybUAmFkxrQ33G5S+OgMkuwcayUT4/QL7dHzysKJ/izEMejpQcIUBBgGvqCEd5OJ5o8IPwCBjvMiTxO+TdDaT+dJK78xxmWabGtVMUOVxvS1Wmrh/20fv5DXFAY9ZSRd8teMsRzNkdxNUXFI9X1EkFeVifFYYP5497kQDJQ1NH7k2Rmg+IVgMsR99hTn6RloPQmiKyNSCnvKUmxNMIlU33baDy9wHIaeI8dnjkHKqyZczRv75RM9ntdqnJr5Wi59C2sdY0JQkVQt8XhYyl/vbJQwWoKkR/LCIyktzUPmlRv1UhKpqIlkdQhDQ5EZpKHvJGnh3APiblDJBjr+oW/3N4QRwBLcvEghbkhpcorSdT0frAzZM3c79gT+9ky7uTVxnzv0qZVWn3oEPSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Rank Peer Groups&quot;
        title=&quot;Rank Peer Groups&quot;
        src=&quot;/static/16828e5d43e47a6d721fa4d21f043acd/fcda8/rank.png&quot;
        srcset=&quot;/static/16828e5d43e47a6d721fa4d21f043acd/12f09/rank.png 148w,
/static/16828e5d43e47a6d721fa4d21f043acd/e4a3f/rank.png 295w,
/static/16828e5d43e47a6d721fa4d21f043acd/fcda8/rank.png 590w,
/static/16828e5d43e47a6d721fa4d21f043acd/efc66/rank.png 885w,
/static/16828e5d43e47a6d721fa4d21f043acd/c83ae/rank.png 1180w,
/static/16828e5d43e47a6d721fa4d21f043acd/c1b63/rank.png 1200w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s compare the results of each function to show the difference:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;dense_rank&lt;/th&gt;
&lt;th&gt;rank&lt;/th&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;percent_rank&lt;/h2&gt;
&lt;p&gt;This is an interesting one - how it’s derived is a bit of a mouthful, so let’s show by example, starting with the query:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; PERCENT_RANK&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OVER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; cost &lt;span class=&quot;token keyword&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And the result:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;percent_rank&lt;/th&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;groceries&lt;/td&gt;
&lt;td&gt;60&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0.11…&lt;/td&gt;
&lt;td&gt;dinner&lt;/td&gt;
&lt;td&gt;35&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0.22…&lt;/td&gt;
&lt;td&gt;taxi&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0.33…&lt;/td&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0.33…&lt;/td&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0.33…&lt;/td&gt;
&lt;td&gt;supper&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0.66…&lt;/td&gt;
&lt;td&gt;tea break&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0.77…&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0.88…&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0.88…&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Instead of a running number, we get the “relative rank” from 0 to 1 inclusive. This is useful if you need to know how close something is to the highest rank - though, as the above example shows, it may not end with 1 if there are ties for the highest rank (a deeper explanation &lt;a href=&quot;https://dba.stackexchange.com/a/144015&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;h2&gt;side-by-side&lt;/h2&gt;
&lt;p&gt;Finally, let’s look at results side by side:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;row_number&lt;/th&gt;
&lt;th&gt;dense_rank&lt;/th&gt;
&lt;th&gt;rank&lt;/th&gt;
&lt;th&gt;percent_rank&lt;/th&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;groceries&lt;/td&gt;
&lt;td&gt;60&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;0.11…&lt;/td&gt;
&lt;td&gt;dinner&lt;/td&gt;
&lt;td&gt;35&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;0.22…&lt;/td&gt;
&lt;td&gt;taxi&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;0.33…&lt;/td&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;0.33…&lt;/td&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;0.33…&lt;/td&gt;
&lt;td&gt;supper&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;0.66…&lt;/td&gt;
&lt;td&gt;tea break&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;0.77…&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;0.88…&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;0.88…&lt;/td&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I hope that helped! Here’s an &lt;a href=&quot;http://sqlfiddle.com/#!17/d3ff0a/8&quot;&gt;sqlfiddle&lt;/a&gt; you can play around with.&lt;/p&gt;
&lt;p&gt;In future articles, we’ll look into more window functions. Follow me on Twitter to be informed of the next one!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Window Function Calls in Postgres - A Visual Introduction]]></title><description><![CDATA[What is a window function call? My explanation: adds a column to query results that is calculated based on other rows in the table Ok, that…]]></description><link>https://www.wasabigeek.com/blog/window-function-calls-an-introduction/</link><guid isPermaLink="false">https://www.wasabigeek.com/blog/window-function-calls-an-introduction/</guid><pubDate>Thu, 31 Dec 2020 21:56:03 GMT</pubDate><content:encoded>&lt;p&gt;What is a &lt;strong&gt;window function call&lt;/strong&gt;? My explanation:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;adds a column to query results that is calculated based on other rows in the table&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ok, that’s probably still not immediately understandable, so let’s walk through an example. Imagine you’ve been tracking expenses in Postgres:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;category&lt;/th&gt;
&lt;th&gt;created_at&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;transport&lt;/td&gt;
&lt;td&gt;2020-01-01&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;food &amp;#x26; drinks&lt;/td&gt;
&lt;td&gt;2020-01-01&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Now, say you wanted to see how much each expense compares to the average:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;category&lt;/th&gt;
&lt;th&gt;created_at&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;th&gt;avg&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;17.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;17.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;You &lt;em&gt;could&lt;/em&gt; use a subquery to calculate the average:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cost&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; expenses&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; expenses&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But we could also be a little fancier and use a window function call:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cost&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;over&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; expenses&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Although we have some new syntax to understand (which we’ll get into later), that’s noticeably shorter! What just happened?&lt;/p&gt;
&lt;h2&gt;Hello, Window Frames&lt;/h2&gt;
&lt;p&gt;Let’s try to visualise the window function call. For each row, Postgres calculates the average cost of the rest of the table, which is the default &lt;strong&gt;“window frame”&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1014b18a4b3fbfc949cb36a9403672a2/2bef9/avg_cost_whole_table.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.32432432432432%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACEklEQVQoz4VS23KbMBDN//9If6GZ6Utn2k7SpDWd+AKGBAw2wUJXkEBIwEYYx42nDz2jkVbSnl1p99wAwDjOY4R3OHsYhv4dbuf21lpnu1lr7QzndnPxtkZzhuuKU4wYxbZre6Ot7TpjORd1LaVSjBJKqRBCSjmRtYVXBsG+r2r1tEkeF5u7xydvGRHRYW4QUWUWendfN4t7lMX5kfh+sF6vOecTmSt4iKBg42No/EzvkN1mKi2Hl9cuRpAfimMap8fmiOhzEBVJACqxPKWMn5/dD+DF4+3CHgqS5txbJYhbJCBnkBXqmD6vkma7byI/wFRAdxzYljIxkecqDSNs0/q56A+kf6WmrIBLkO3YGNDFUpte9yDSX41SYKthd4tLdM4811lWXAryEgUlKt4PT5HZhpGSMNGWocK7KZPMceJdkUVVGWMunZt7MM1kNQ7WrQpFEoUTue9w+O2aLEQcx66ShJDz4XzBN7v4JS+woYnI/YlsDdr+Q3aZnQacPC5iOT17XQlaKQ0qZ/vVXCIS/dCduSLPGgL4oDSArvCkrBsLmsb74J5Jy3M/Dx/arr+5ODrRMcZcCH4CO8GtKv8js4c6XzbhZ5YtXZPUYTHo6q88LyL9gGHK25ZQxRB+guI77L8A+gkdBu7P7lfka5w+3LeAn6DFYCSU3kiWY4tHI2eP/5FHC+g3VDtXYvfpKcqlhQBv16RYTMfvWi4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Calculating average cost over the default window frame&quot;
        title=&quot;Calculating average cost over the default window frame&quot;
        src=&quot;/static/1014b18a4b3fbfc949cb36a9403672a2/fcda8/avg_cost_whole_table.png&quot;
        srcset=&quot;/static/1014b18a4b3fbfc949cb36a9403672a2/12f09/avg_cost_whole_table.png 148w,
/static/1014b18a4b3fbfc949cb36a9403672a2/e4a3f/avg_cost_whole_table.png 295w,
/static/1014b18a4b3fbfc949cb36a9403672a2/fcda8/avg_cost_whole_table.png 590w,
/static/1014b18a4b3fbfc949cb36a9403672a2/efc66/avg_cost_whole_table.png 885w,
/static/1014b18a4b3fbfc949cb36a9403672a2/2bef9/avg_cost_whole_table.png 1024w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now if that was all you could do with window function calls, I’d be disappointed too. Thankfully, it’s not! Aside from being shorter, there are some key features that are harder to replicate with subqueries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;calculations can be done over a subset of the table (i.e. a smaller &lt;strong&gt;window frame&lt;/strong&gt;) instead of the whole table&lt;/li&gt;
&lt;li&gt;in addition to the usual aggregation functions like &lt;code class=&quot;language-text&quot;&gt;avg&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;max&lt;/code&gt;, there are &lt;strong&gt;window functions&lt;/strong&gt;, which can only be used as part of a window function call&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Reframing the Window&lt;/h2&gt;
&lt;p&gt;Let’s try calculating over a subset. Knowing the average across all expenses wasn’t very helpful - a big purchase could skew the calculation, so let’s instead compare each expense to the &lt;em&gt;category average&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cost&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;over&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;partition&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; category&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;avg in category&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; expenses&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Our result now looks something like:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;category&lt;/th&gt;
&lt;th&gt;created_at&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;th&gt;avg in category&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;tea break&lt;/td&gt;
&lt;td&gt;food &amp;#x26; drinks&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;food &amp;#x26; drinks&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;24&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;taxi to home&lt;/td&gt;
&lt;td&gt;transport&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;7.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bus ride home&lt;/td&gt;
&lt;td&gt;transport&lt;/td&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;7.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;That’s a bit more helpful! Let’s visualise this:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6107b4b5b64a472d789accb94501592f/2bef9/avg_cost_category.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 72.2972972972973%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4UlEQVQoz42Si26bMBSG+/5PtUzTNKnVkl7SlAAJMRAuBmyDufh6ZqCVumib9stIYPs7/7lwB/8npZWTezHGCqnWzTv3aAOjBN4LlOIzynDTCQU4T7z99uQ9s+rKm+J5t3v6ed+1DJfl4/ahqasZdthDOK8g09GV+ZcaFQNl4yVC3rk8+GmctyWZ+KDOwYkQBqKRaKMqb4aVgbSGtxReYx1nNEQ0wRNtZRZfdruX4BhUZd1gnKAYHV+UGEF10ByWrO3dmr2xIJSNUJaXtQvnihLTFMcpY51SRkrddXyahvmq5FDvF3aBrQW7hJBCKCmXAwNWgpmsoHZqXKqa55JEYNymBnb+zXkJYTnnQ993fADFxyqMgoO/3w7kCpoV8bE534Pms00bgZ7eu/2euTFN07RtS1kLWlh+FSzTvABRw4BtX0Kfz85OHZqT/wzfDpahvvDawu+KAMZS0liTEIyA1dmoPzjnTkXpWFH5Fcah71W4cKe8H8cqAEnndlD/tmYHE0IopRjPP8BQvKI4OfoBpcR9srbj6Q5Ua2U/O9/ATn3fD4vmE3Yy5aOMv9nsB6Qbm2wsOYLqgbyt3fpHzcvsRgzZd3DM9SskX2AogYVrq/4Ku5l9VCKhegLZzVZurd36pF/tHCM++dizvwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Calculating average cost over each category&quot;
        title=&quot;Calculating average cost over each category&quot;
        src=&quot;/static/6107b4b5b64a472d789accb94501592f/fcda8/avg_cost_category.png&quot;
        srcset=&quot;/static/6107b4b5b64a472d789accb94501592f/12f09/avg_cost_category.png 148w,
/static/6107b4b5b64a472d789accb94501592f/e4a3f/avg_cost_category.png 295w,
/static/6107b4b5b64a472d789accb94501592f/fcda8/avg_cost_category.png 590w,
/static/6107b4b5b64a472d789accb94501592f/efc66/avg_cost_category.png 885w,
/static/6107b4b5b64a472d789accb94501592f/2bef9/avg_cost_category.png 1024w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For each row, our new window frame includes only other rows with the same category, and the average is calculated based on those rows.&lt;/p&gt;
&lt;p&gt;This is also a good time to take a brief look at the syntax we’ve used so far:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;avg&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;cost&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OVER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;PARTITION&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; category&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the above:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;avg(cost)&lt;/code&gt; is the aggregation function that we want to execute over the window frame - we could use other functions such as &lt;code class=&quot;language-text&quot;&gt;max&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;min&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;OVER&lt;/code&gt; is the keyword which tells Postgres we were using a window function call. Everything in parentheses specifies how our table will be divided into different window frames&lt;/li&gt;
&lt;li&gt;in this case, we are using &lt;code class=&quot;language-text&quot;&gt;PARTITION BY category&lt;/code&gt;, which means we are dividing the table into different window frames based on their category&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Window Functions&lt;/h2&gt;
&lt;p&gt;Now that we know a little more about the syntax, let’s look at the other hidden power of window functions calls… &lt;strong&gt;window functions&lt;/strong&gt; themselves!&lt;/p&gt;
&lt;p&gt;It’s coming to the end of the month, and you want to know the biggest expense in each category, for each day. There’s a window function for that - &lt;code class=&quot;language-text&quot;&gt;rank&lt;/code&gt;!&lt;/p&gt;
&lt;p&gt;With &lt;code class=&quot;language-text&quot;&gt;rank&lt;/code&gt;, we can calculate the order of each row in it’s window frame (Note that the following query still returns every row in the table, not just the top expenses - we’ll fix that later):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  rank&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;over&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;partition&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; category&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; created_at
    &lt;span class=&quot;token keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;by&lt;/span&gt; cost &lt;span class=&quot;token keyword&quot;&gt;desc&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; expenses&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice the additional syntax in our window function call:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;OVER&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;PARTITION&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; category&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; created_at &lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; cost &lt;span class=&quot;token keyword&quot;&gt;DESC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;we’ve added a second condition to &lt;code class=&quot;language-text&quot;&gt;PARTITION BY&lt;/code&gt; to further divide each window frame by the day each entry was &lt;code class=&quot;language-text&quot;&gt;created_at&lt;/code&gt; (this is very similar to &lt;code class=&quot;language-text&quot;&gt;GROUP BY&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;there’s now an &lt;code class=&quot;language-text&quot;&gt;ORDER BY ... DESC&lt;/code&gt; that orders the rows within each frame from highest to lowest cost, so we’ll know that a rank of 1 would be the most expensive&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Another quick visual:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c2273fb3c2a5f6a4d8b43e62292fa544/2bef9/rank_category_date.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeUlEQVQoz31SaXOCMBDl//+mfugx7dRppToVPFDUCOEoCCGHIMmmAW21nU53JjMvu3mT93bXAtCgL3GNv0NBl66bpsNKccaaHlvmyPZYHwSjVXs8gqzzaJ0GS0FJgNDItr35DO82bB/NhreCJCWhE8eJ47gjz0K9xtR2w4fBzFkVwWY7uL95uH/0F4ud749te/Q69Nfhale92PPIdzmnDDtCiI585+gFVu8+HU5Td1vvomI0eBo829vVep8m4RYhb5qhaY7cj9VbQ6LemzrZsUquC2ZcKSmVcSZZovZenXlN5rX7JYscFs+BIhBhiWxFA5AN8LhvDXSeAQDjkFHa+SebDE2W788iW2q2OSSTCjtAA1mFJBhpHpvXui7OP/eN1G3bSik7JGvFsD586CPVIJVsO5FgSqoW3LT6egrWufuc53lOKTXiA5yMJy6pKlMyyTRNTxxT/SLDDzIhpCgKxrm5Gv2kLKGXZEoncMK/5m9d1gP+XBD9z4NPOwY5LIvl3s8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Calculating rank over each category and date&quot;
        title=&quot;Calculating rank over each category and date&quot;
        src=&quot;/static/c2273fb3c2a5f6a4d8b43e62292fa544/fcda8/rank_category_date.png&quot;
        srcset=&quot;/static/c2273fb3c2a5f6a4d8b43e62292fa544/12f09/rank_category_date.png 148w,
/static/c2273fb3c2a5f6a4d8b43e62292fa544/e4a3f/rank_category_date.png 295w,
/static/c2273fb3c2a5f6a4d8b43e62292fa544/fcda8/rank_category_date.png 590w,
/static/c2273fb3c2a5f6a4d8b43e62292fa544/efc66/rank_category_date.png 885w,
/static/c2273fb3c2a5f6a4d8b43e62292fa544/2bef9/rank_category_date.png 1024w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So for each row, our window frame is other rows with the same category and created_at date, and we order the rows from highest to lowest cost.&lt;/p&gt;
&lt;p&gt;The query gives us a result like:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;category&lt;/th&gt;
&lt;th&gt;created_at&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;th&gt;rank&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;groceries&lt;/td&gt;
&lt;td&gt;food &amp;#x26; drinks&lt;/td&gt;
&lt;td&gt;2020-01-01&lt;/td&gt;
&lt;td&gt;60&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dinner&lt;/td&gt;
&lt;td&gt;food &amp;#x26; drinks&lt;/td&gt;
&lt;td&gt;2020-01-01&lt;/td&gt;
&lt;td&gt;35&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;food &amp;#x26; drinks&lt;/td&gt;
&lt;td&gt;2020-01-01&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;taxi&lt;/td&gt;
&lt;td&gt;transport&lt;/td&gt;
&lt;td&gt;2020-01-01&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;transport&lt;/td&gt;
&lt;td&gt;2020-01-01&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bus ride&lt;/td&gt;
&lt;td&gt;transport&lt;/td&gt;
&lt;td&gt;2020-01-02&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Now that we have a ranking, we could use it as a subquery and filter out expenses that are rank 2 or higher.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;-- our earlier query&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ranked_expenses&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;where&lt;/span&gt; rank &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Which leaves us with exactly what we want - nice!&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;th&gt;category&lt;/th&gt;
&lt;th&gt;created_at&lt;/th&gt;
&lt;th&gt;cost&lt;/th&gt;
&lt;th&gt;rank&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;groceries&lt;/td&gt;
&lt;td&gt;food &amp;#x26; drinks&lt;/td&gt;
&lt;td&gt;2020-01-01&lt;/td&gt;
&lt;td&gt;60&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lunch&lt;/td&gt;
&lt;td&gt;food &amp;#x26; drinks&lt;/td&gt;
&lt;td&gt;2020-01-02&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;taxi to home&lt;/td&gt;
&lt;td&gt;transport&lt;/td&gt;
&lt;td&gt;2020-01-01&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bus ride home&lt;/td&gt;
&lt;td&gt;transport&lt;/td&gt;
&lt;td&gt;2020-01-02&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;…&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I hoped that helped you grok window functions! If you want to play around with the data in this example, there’s an &lt;a href=&quot;http://sqlfiddle.com/#!17/f33e78/3&quot;&gt;sqlfiddle&lt;/a&gt; - in case that doesn’t exist at the time of reading, you can also get the SQL to create the table and query the data from this &lt;a href=&quot;https://gist.github.com/wasabigeek/2b9fb05eba5c26928bab85bcf408511f&quot;&gt;gist&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In the next few articles, we’ll look into the individual window functions, starting with those for &lt;a href=&quot;/blog/window-function-visualized-rankings/&quot;&gt;ranking rows&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Finding New Indie Hacking Ideas (WIP)]]></title><description><![CDATA[A curated list of articles and resources for finding Indie Hacking ideas. How do you create a product people want to buy? - Amy Hoy Note…]]></description><link>https://www.wasabigeek.com/blog/finding-new-indie-hacking-ideas/</link><guid isPermaLink="false">https://www.wasabigeek.com/blog/finding-new-indie-hacking-ideas/</guid><pubDate>Sun, 13 Dec 2020 20:32:03 GMT</pubDate><content:encoded>&lt;p&gt;A curated list of articles and resources for finding Indie Hacking ideas.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;&lt;a href=&quot;https://www.indiehackers.com/post/how-do-you-create-a-product-people-want-to-buy-a28b69ebb3&quot;&gt;How do you create a product people want to buy?&lt;/a&gt; - &lt;em&gt;Amy Hoy&lt;/em&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Note: The link is to a summary on IndieHackers&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Amy’s suggestion for finding ideas is to pick a target market, find where they commune online and spend 30-50 hours reading through their pain points, beliefs, worldviews, complaints etc. I find this somewhat attractive since it doesn’t require actually talking to anyone, but that could be a flaw. Will be trying this out.&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;&lt;a href=&quot;https://podcasts.apple.com/sg/podcast/the-indie-hackers-podcast/id1206165808#episodeGuid=d410b5d9-49e6-4073-8b12-91681223ea3f&quot;&gt;Trends and Opportunities for Building a SaaS in 2020&lt;/a&gt; - &lt;em&gt;IndieHackers Podcast #178&lt;/em&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Biggest takeaway was Rob Walling’s &lt;a href=&quot;https://robwalling.com/2015/03/26/the-stairstep-approach-to-bootstrapping/&quot;&gt;“Stair-Step Approach”&lt;/a&gt; - start with one-time sale, single channel (e.g. an “info” product or productized service) to build confidence. Some other interesting discussions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;building an audience is an advantage for info-products, but not so much for SaaS&lt;/li&gt;
&lt;li&gt;do you want competitor-pain (market is established, you figure out how to compete) or customer-pain (market is nascent, you will have to do a lot of customer education)?&lt;/li&gt;
&lt;li&gt;a “scratch your own itch” idea can be misleading, remember to still validate first&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[2020 in Retrospect: Making]]></title><description><![CDATA[Reflections on side projects this year. Overall I tend to build first (out of technical interest or my own personal problem), then make only…]]></description><link>https://www.wasabigeek.com/blog/2020-in-retrospect-making/</link><guid isPermaLink="false">https://www.wasabigeek.com/blog/2020-in-retrospect-making/</guid><pubDate>Fri, 11 Dec 2020 20:48:03 GMT</pubDate><content:encoded>&lt;p&gt;Reflections on side projects this year.&lt;/p&gt;
&lt;h2&gt;Overall&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;I tend to build first (out of technical interest or my own personal problem), then make only half-hearted efforts to validate and abandon them quickly.&lt;/strong&gt; There’s two takeaways for me: I should make a proper effort to get better and more comfortable with customer discovery and idea validation, and if it’s to validate an actual business I should do that before building. Will be trying out &lt;a href=&quot;https://twitter.com/PierreDeWulf/status/1329765206256455683?s=20&quot;&gt;some&lt;/a&gt; &lt;a href=&quot;https://www.indiehackers.com/post/how-do-you-create-a-product-people-want-to-buy-a28b69ebb3&quot;&gt;suggestions&lt;/a&gt; around that.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The “technical” projects were great for personal learning, and fun (until they got serious)&lt;/strong&gt;. I still have a lot to learn and catch up in dev, so I think it’s worth setting aside time for these. Maybe a dual-track thing - set aside 50% time to validate ideas, 50% time to improve technically? Or maybe I should try to capitalise on the learnings e.g. teaching others?&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;I abandoned some projects once it became clear they took more effort than expected, so I didn’t see myself making money from them soon&lt;/strong&gt;. Perhaps in addition to the “dual-track” approach, the ideas I should try to validate first should be more around “simpler, one-time sale” products as &lt;a href=&quot;https://robwalling.com/2015/03/26/the-stairstep-approach-to-bootstrapping/&quot;&gt;Rob Walling suggests&lt;/a&gt;. That might take off some pressure on pure-tech projects so I can go deeper.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;I get quite discouraged and annoyed with design&lt;/strong&gt;. I am trying to get better at it for my Dec project, but not in a particularly structured manner. I do think it’ll be useful, just not sure if I should be prioritising that over other things.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;Mar 2020&lt;/h2&gt;
&lt;h3&gt;A “self-hosted” Kahoot! clone&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7168019d4007fcce1862971021646b46/1e5d2/cahoots_screenshot.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 42.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABV0lEQVQoz3VS20rEQAzt/z+IoAjqi88i+rCCgp/gF4i6l7bT6dTedltLb9NjMrvTdkUDp+mEzMlJMk6U5viKY6RZDiEVfEIYRpBeCFdGUAnFPQ+eDBBElJdmUOSXax+uCOGvBZYrH76K4QkJB2RaawzDgCOjM0f4WxLJPqTRdR36vjd3GGBPZ7ZuV8DhBK6aZYzc+CRNkW+32BLYyqIYC/4uPMxibdOQQjrUdW3A5G3bGlRVZTwnl2V5RMTxOEmQEObGcdMyt9AfZOvDxYaq2VEwob0gQ4X3j0+a29rAEwGyfN8JC3JsYtO0UxNE8k0KuQgTFtQym1QRTs4vcXpxjcXTC+4Xzzi7usHtw6MpPhKa4RLRrurgqgpdP5gFMNlcYU2qN54g+GbTQoZYbVwE5LmxifDQ5psccPeqUdZ2Afhzhv/ZSGiVHL+aaauWkGGfi9bzfz0S/gDfzbcYJ3ZDjgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Cahoots&quot;
        title=&quot;Cahoots&quot;
        src=&quot;/static/7168019d4007fcce1862971021646b46/fcda8/cahoots_screenshot.png&quot;
        srcset=&quot;/static/7168019d4007fcce1862971021646b46/12f09/cahoots_screenshot.png 148w,
/static/7168019d4007fcce1862971021646b46/e4a3f/cahoots_screenshot.png 295w,
/static/7168019d4007fcce1862971021646b46/fcda8/cahoots_screenshot.png 590w,
/static/7168019d4007fcce1862971021646b46/efc66/cahoots_screenshot.png 885w,
/static/7168019d4007fcce1862971021646b46/c83ae/cahoots_screenshot.png 1180w,
/static/7168019d4007fcce1862971021646b46/1e5d2/cahoots_screenshot.png 1630w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In March, I helped out at a church event where we found out Kahoot had unexpectedly restricted the free plan. I thought it’d be cool if there could be a “self-hosted” version for non-profits, and made a really non-user-friendly-but-free prototype with GitHub Pages / React / Airtable&lt;/li&gt;
&lt;li&gt;It had some real UX deficiencies to make it free for me to host, so I wanted to have some testers to see if the tradeoffs were ok before deciding to promote it&lt;/li&gt;
&lt;li&gt;I asked a friend to try it but didn’t really follow-up, and also made a post on Reddit (r/react), more a technical post (not much interaction there though)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reflections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;it was fun to give the Airtable API a try, also a good opportunity to get a little more familiar with Promises&lt;/li&gt;
&lt;li&gt;I definitely didn’t feel comfortable promoting the initial version of the project, there were so many hoops someone had to jump through just to even try it (setting up a throwaway Airtable account for example). In hindsight, this was probably a mistake - these are all guesses &gt;_&amp;#x3C;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;Apr 2020&lt;/h2&gt;
&lt;h3&gt;A newsletter scraping project&lt;/h3&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/901f9f255c7e292a6616408fa84cabda/193c9/til.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 102.7027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECBQb/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB7+LDaDzFLAr/xAAbEAABBAMAAAAAAAAAAAAAAAAAAQMRFAIQIf/aAAgBAQABBQIxWdShwktvFp0tvH//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAZEAADAAMAAAAAAAAAAAAAAAAAMqEBICH/2gAIAQEABj8CM81aDQaH/8QAHBAAAQUAAwAAAAAAAAAAAAAAAAEQEWGRITFB/9oACAEBAAE/IT1iQrLJyhPSGUMFbBQwf//aAAwDAQACAAMAAAAQ2w+8/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFREBAQAAAAAAAAAAAAAAAAAAESD/2gAIAQIBAT8QI//EAB4QAAIBBQADAAAAAAAAAAAAAAERACExQVHwYXHB/9oACAEBAAE/EKCFJqEDz5iGoQjCsiArTQ2QiDBjLl61C0Hm9Tjvk//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;todayilearn&quot;
        title=&quot;todayilearn&quot;
        src=&quot;/static/901f9f255c7e292a6616408fa84cabda/1c72d/til.jpg&quot;
        srcset=&quot;/static/901f9f255c7e292a6616408fa84cabda/a80bd/til.jpg 148w,
/static/901f9f255c7e292a6616408fa84cabda/1c91a/til.jpg 295w,
/static/901f9f255c7e292a6616408fa84cabda/1c72d/til.jpg 590w,
/static/901f9f255c7e292a6616408fa84cabda/a8a14/til.jpg 885w,
/static/901f9f255c7e292a6616408fa84cabda/193c9/til.jpg 1093w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;There were some really useful newsletters I had been following, but I wished there was a way to consume the articles shared in a more piecemeal manner. For example, Hackernewsletter includes &gt;50 articles each week, I usually end up opening 15 tabs in my mobile Firefox and then slowly consuming them over the week - which you can guess isn’t very successful.&lt;/li&gt;
&lt;li&gt;Spent a week or two repurposing an old project and started scraping the web archives of Hackernewsletter. (I later found out that Hackernewsletter had stopped publishing their archives, so that wouldn’t really work)&lt;/li&gt;
&lt;li&gt;Showed the idea to a friend, who gave some really useful feedback (being able to retrieve the knowledge when it would be useful was a bigger problem than consuming it)&lt;/li&gt;
&lt;li&gt;Also, I couldn’t think of a way to give due credit back to the newsletter creators, unless I worked directly with them (feels like a chicken and egg thing) and I didn’t want to disrupt their income source.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reflections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The turnaround time was pretty OK (2 weeks) so not a huge loss&lt;/li&gt;
&lt;li&gt;However, I probably should have led by talking to more people instead of building the backend first - since it was mostly repurposing I didn’t really learn anything new from the technical standpoint&lt;/li&gt;
&lt;li&gt;Also, I didn’t really pursue the knowledge surfacing problem that he raised, because it was pretty nebulous and I was… lazy. Looking at the emphasis on knowledge management solutions now, it does seem like that was another mistake 😞&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;Jun 2020&lt;/h2&gt;
&lt;h3&gt;A &lt;del&gt;“self-hosted”&lt;/del&gt; real-time Kahoot! clone&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;This actually still works, feel free to give it a &lt;a href=&quot;https://wasabigeek.github.io/cahoots/#/&quot;&gt;try!&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;I thought it would be an interesting technical exercise to try and make the previous project real-time. Wanted to try something more DIY like socket.io, ended up using Firebase.&lt;/li&gt;
&lt;li&gt;I didn’t really do much validation except showing it to 2 friends, with a lukewarm response&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I also decided against pursuing it further in it’s current form:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Competing with Kahoot! on price was probably not going to work, their plans were still pretty affordable (and it seems, even cheaper now)&lt;/li&gt;
&lt;li&gt;They were focusing on education, so I thought another angle was a casual party game, which incidentally was how I was introduced to Kahoot. Something like an &lt;a href=&quot;https://en.wikipedia.org/wiki/Bishi_Bashi&quot;&gt;MMO bishi-bashi&lt;/a&gt;. I shelved this for a future date because I felt like I didn’t have the expertise for building web games, so it would be a long-build.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reflections&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Even if it wasn’t exactly what I initially wanted to learn (Firebase abstracted a lot of the real-time aspects), I did walk away with some more knowledge of NoSQL databases, plus some Firebase-specific knowledge (e.g. security rules), which was great.&lt;/li&gt;
&lt;li&gt;Again, didn’t really push on the validation front, possibly because I felt it needed more polish, plus I wasn’t sure if I was going to stick with Firebase if moving to the variety-game idea&lt;/li&gt;
&lt;li&gt;I do feel like the rise of games like Fall Guys and Among Us somewhat validates the MMO casual game… 🤔&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;Jul 2020&lt;/h2&gt;
&lt;h3&gt;Over the Kit&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;This is still alive! &lt;a href=&quot;https://wasabigeek.github.io/drumz/&quot;&gt;https://wasabigeek.github.io/drumz/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Me being a very lazy drummer, just want to be given some licks to practice instead of having to orchestrate and build patterns up to speed myself&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Built a small, limited prototype (only 4/4, only 16th notes 1 bar fill) then tried to do some validation&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Posted on Reddit r/drums, relatively speaking there was very little interest (few upvotes and comments compared to what seems to usually trend there)&lt;/li&gt;
&lt;li&gt;Pinged 3 musician friends - feedback was more in the “oh this is cool” sorta vein (I need to dig up those messages)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Made some upgrades (the biggest being multiple usages: part-bar, 1-bar, 1-bar 16th note triplets variations)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reflections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I used Vexflow and WebAudio, which was really interesting&lt;/li&gt;
&lt;li&gt;r/drums might not be the right subreddit, given the focus there seems to be showing off 😋  maybe I should try r/drumming (which has less people but seems more educational) or see if there are some groups / chats I can join to talk with people&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;Aug 2020&lt;/h2&gt;
&lt;h3&gt;HabitStar&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;I never made it to releasing on the App Store, but some screens of the prototype still exist on &lt;a href=&quot;https://getmakerlog.com/tasks/305538&quot;&gt;Makerlog&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;The thought process was something like, I’ve always wanted to try to build a mobile app + mobile apps seem to make a nice indie hacker project (could push infra to Apple via saving on device/iCloud, so it sounded like it’d be easier for one person to maintain than a web app)&lt;/li&gt;
&lt;li&gt;Initially thought to convert Over the Kit to an app, but after working with and digging into React Native for a bit, it seemed like it would be a challenge (due to Javascript’s event loop), so I thought I’d start with something simpler&lt;/li&gt;
&lt;li&gt;I always wanted to make a habit tracker, because the one I was using still felt a little clunky&lt;/li&gt;
&lt;li&gt;Got a little bogged down trying to (i.) make a design I liked; (ii.) figure out the gamification mechanics (which I wanted to have in order to differentiate it). My lack of experience around mobile development and React Native (data storage, testing and debugging) made the experience slow and frustrating at times as well.&lt;/li&gt;
&lt;li&gt;At one point I was wondering whether to set the gamification part aside for a bit to just focus on getting the app out. But I thought the gamification was part of the charm, and didn’t want to release without it (the $99 developer fee also was a small discourager)&lt;/li&gt;
&lt;li&gt;In the end, I just drifted to something else…&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reflections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The design part especially seemed to bog me down mentally (“I wish it looked better”). Maybe I shouldn’t let myself get too discouraged with a sub-standard design. Or maybe I should try to get more comfortable with design?&lt;/li&gt;
&lt;li&gt;I’m sure the “slow and frustrating” feeling contributed to me drifting away - but I should actually try to get used to being in that zone more, because it probably means I’m doing something way out of my comfort zone and learning something new.&lt;/li&gt;
&lt;li&gt;I finally got to try React Native after thinking about it for years, so that was great! I do wonder if the tooling around Flutter is better though, maybe will give that a bit of a try. If it leans towards the game aspects more too, I wonder if I should try something like Unity 🤔  All of the above sound like pretty significant time commitments.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Aug/Oct 2020&lt;/h2&gt;
&lt;h3&gt;ClassCal&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Still a work in progress, there’s a &lt;a href=&quot;https://classcal-staging.herokuapp.com/&quot;&gt;staging app&lt;/a&gt; you can try, plus a quick and dirty wix landing page my friend made &lt;a href=&quot;https://www.classcal.com/&quot;&gt;https://www.classcal.com/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Discussed a few ideas with a friend before we decided to give a Tuition scheduling app a try, based on some earlier conversations he had while validating a different idea. For me, I was also curious about whether we could work together, since he had some experiences starting more traditional businesses, and seemed to be stronger in the sales aspect.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In terms of validating the idea:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;my friend did some demos with existing solutions in the market - we thought a possible angle was to try to do something more affordable and SaaS-like, since the incumbent solutions in the market were positioned more as custom solutions, with prices to match (though they could qualify for the govt. grants)&lt;/li&gt;
&lt;li&gt;we spoke with 2 of his contacts in the industry, the second one was positive but also seemed to have a non-traditional approach to the business, managing it more like a gym with online bookings and payments&lt;/li&gt;
&lt;li&gt;we tried to walk the ground and speak with some tuition centres, but this was super hard. Most people just shoo-ed us away (to be fair, it was true that they were busy)&lt;/li&gt;
&lt;li&gt;my friend also tried to post a poll in a Facebook groups, there was little response&lt;/li&gt;
&lt;li&gt;now we’re trying Google Ads with the landing page in a last-ditch attempt to get people to talk to and learn from, before we decide whether to move on to a different idea&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;We agreed not to build anything beyond a Figma prototype until we had more validation, but I had itchy fingers by October and went to start on the app. It was a nice chance for me to figure out how to build a SaaS in Rails as well (I had tried some out-of-the-box template with the newsletter idea but it was not well-documented and I didn’t know enough / need all of the bells and whistles)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reflections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I think it’s worth spending time aligning with a partner on approaches and beliefs. Personally,  I realised I didn’t really know how to explain processes I had taken for granted, such as user story mapping.&lt;/li&gt;
&lt;li&gt;It was helpful having the second brain, we weren’t always on the same wavelength but it did push me to have a different perspective and read up stuff I’ve been putting off e.g. on validation&lt;/li&gt;
&lt;li&gt;I think I will still continue building for a bit, because it does provide a potential future framework for launching other projects. In the worst case, I will open source it and try to do some walkthrough to building a SaaS in Rails.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;Sep 2020&lt;/h2&gt;
&lt;h3&gt;PeekPalette&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;The unfinished &lt;a href=&quot;https://wasabigeek.github.io/peekpalette/&quot;&gt;landing page&lt;/a&gt; is still up&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;While doing the Figma prototype, I spent quite a bit of time figuring out colour variations and thought, there must be an opportunity here - an app that would generate and let you preview colour combinations against a UI (something like Headlime, but for UI colour palettes)&lt;/li&gt;
&lt;li&gt;I decided to try starting from a landing page and validate that first. After spending a week on an interactive hero section, I realised I didn’t know what else to put in the “marketing” section of the site that would be convincing &gt;_&amp;#x3C;&lt;/li&gt;
&lt;li&gt;In terms of validation, I did a half-hearted post on Makerlog and another on IndieHackers, again, very little feedback or interest.&lt;/li&gt;
&lt;li&gt;Also thought that the target might be so niche it didn’t exist: If I’m a dev that wasn’t good with design, I’d probably purchase some theme instead.&lt;/li&gt;
&lt;li&gt;I do think there’s some opportunity in this market, but this probably wouldn’t cut it as a standalone product&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reflections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I did enjoy working on the hero section, got to try out a rainbow CSS gradient I saw on another blog&lt;/li&gt;
&lt;li&gt;I didn’t enjoy trying to figure out the design of the UI on the interactive element, and also figuring out the marketing copy. That’s also probably the point when I started to realise the idea didn’t have legs. In this case, might have been helpful to validate more first before building, but I think I did ok here, didn’t “waste” too much time.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;Dec 2020&lt;/h2&gt;
&lt;h3&gt;BaseUI (working title)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Continuing the theme of “I wish there was an easier way to do a nice design”, I’m currently trying to validate whether my problem of getting a decent but still unique design done quickly applies to other IH devs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Inspired by the Mom Test, I tried not to rush into building, but tried to understand the target’s (IH devs) current workflow a bit more with a post on IH &lt;a href=&quot;https://www.indiehackers.com/post/serial-saas-devs-whats-your-workflow-when-starting-a-new-project-7d4c43a2a3&quot;&gt;https://www.indiehackers.com/post/serial-saas-devs-whats-your-workflow-when-starting-a-new-project-7d4c43a2a3&lt;/a&gt; (it was also useful for me)&lt;/li&gt;
&lt;li&gt;I looked at other solutions in the market: full-app templates like JumpstartPro and pure UI component libraries like TailwindUI, thought there might be an opportunity to do something in the middle.&lt;/li&gt;
&lt;li&gt;I’m now trying to build (oops) a &lt;a href=&quot;https://github.com/wasabigeek/rails-templates/tree/main/base_ui&quot;&gt;free, minimal set of components&lt;/a&gt; that’s integrated with Rails, and seeing whether there’s interest in that before going further. Again, struggling a little with design here (I would love to just plonk TailwindUI in there, but it goes against their license, and I’m not sure if there’s a cheap way to get a neat set of components)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Customising Generator Templates in Rails (Gems too!)]]></title><description><![CDATA[Rails’ generators are a great boon to the Indie HackerTM or Solo DeveloperTM. Running  will quickly bootstrap the full stack for a model…]]></description><link>https://www.wasabigeek.com/blog/customising-generator-templates-in-rails-gems-too/</link><guid isPermaLink="false">https://www.wasabigeek.com/blog/customising-generator-templates-in-rails-gems-too/</guid><pubDate>Sat, 07 Nov 2020 20:32:03 GMT</pubDate><content:encoded>&lt;p&gt;Rails’ generators are a great boon to the Indie Hacker&lt;sup&gt;TM&lt;/sup&gt; or Solo Developer&lt;sup&gt;TM&lt;/sup&gt;. Running &lt;code class=&quot;language-text&quot;&gt;rails g scaffold ...&lt;/code&gt; will quickly bootstrap the full stack for a model, creating the routes, controllers, views and even tests.&lt;/p&gt;
&lt;p&gt;As you start customising and standardising your interface though, the default templates get less and less useful - most of the generated code doesn’t fit your layout or setup, and you end up deleting most of it or skipping them.&lt;/p&gt;
&lt;h2&gt;What if we could change the… templates?&lt;/h2&gt;
&lt;p&gt;Rails actually gives you a lot of &lt;a href=&quot;https://guides.rubyonrails.org/generators.html&quot;&gt;control&lt;/a&gt; over the generators, but early on in a project, perhaps the most impactful &lt;em&gt;and&lt;/em&gt; simple thing to do is to override the &lt;a href=&quot;https://guides.rubyonrails.org/generators.html#customizing-your-workflow-by-changing-generators-templates&quot;&gt;templates&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Let’s look at an example. Normally Rails would generate a &lt;code class=&quot;language-text&quot;&gt;show.html&lt;/code&gt; that looks something like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;erb&quot;&gt;&lt;pre class=&quot;language-erb&quot;&gt;&lt;code class=&quot;language-erb&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;notice&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%=&lt;/span&gt; notice &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Attribute:&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;strong&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;@object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;attribute &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%=&lt;/span&gt; link_to &lt;span class=&quot;token string&quot;&gt;&apos;Edit&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; edit_object_path&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;@object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt; |
&lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%=&lt;/span&gt; link_to &lt;span class=&quot;token string&quot;&gt;&apos;Back&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; object_path &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For a personal project, I’ve made mine generate something like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;erb&quot;&gt;&lt;pre class=&quot;language-erb&quot;&gt;&lt;code class=&quot;language-erb&quot;&gt;&lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%&lt;/span&gt; content_for &lt;span class=&quot;token symbol&quot;&gt;:breadcrumbs&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;...&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    Home &gt; &lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;@object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;attribute &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%&lt;/span&gt; content_for &lt;span class=&quot;token symbol&quot;&gt;:heading&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;...&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;...&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;@object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%=&lt;/span&gt; link_to &lt;span class=&quot;token string&quot;&gt;&apos;Edit object&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; edit_object_path&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;@object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;...&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%&lt;/span&gt; content_for &lt;span class=&quot;token symbol&quot;&gt;:main_content&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;...&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;@object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;attribute &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token erb language-erb&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;&amp;lt;%&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;token delimiter punctuation&quot;&gt;%&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It’s saved me a lot of time!&lt;/p&gt;
&lt;p&gt;To do so, simply add a template to your Rails project in &lt;code class=&quot;language-text&quot;&gt;lib/templates/erb/scaffold/show.html.erb&lt;/code&gt;. You can use the &lt;a href=&quot;https://github.com/rails/rails/blob/master/railties/lib/rails/generators/erb/scaffold/templates/show.html.erb.tt&quot;&gt;original&lt;/a&gt; as a starting point. The other templates can also be easily changed following a similar path. Note the double percentages (&lt;code class=&quot;language-text&quot;&gt;%%&lt;/code&gt;) used to escape ERB tags!&lt;/p&gt;
&lt;h2&gt;Bonus: Gems too!&lt;/h2&gt;
&lt;p&gt;This also works for your gems that have generators (e.g. &lt;a href=&quot;https://github.com/rspec/rspec-rails&quot;&gt;rspec-rails&lt;/a&gt; or &lt;a href=&quot;https://github.com/reactjs/react-rails&quot;&gt;react-rails&lt;/a&gt;), though it’s not obvious where to place the templates.&lt;/p&gt;
&lt;p&gt;Our answer lies in &lt;a href=&quot;https://github.com/rails/rails/blob/master/railties/lib/rails/generators/base.rb&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Rails::Generators::Base.inherited&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ruby&quot;&gt;&lt;pre class=&quot;language-ruby&quot;&gt;&lt;code class=&quot;language-ruby&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token method-definition&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;inherited&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;base&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;#:nodoc:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;Generators&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;templates_path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;path&lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; base&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;::&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      base&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;source_paths &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; base&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;base_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; base&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;generator_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt;
      base&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;source_paths &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; base&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;generator_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So, in addition to the &lt;code class=&quot;language-text&quot;&gt;source_root&lt;/code&gt; that most Generators would define, Rails will also search a few extra paths. In general, you should place the template in &lt;code class=&quot;language-text&quot;&gt;lib/templates/&amp;lt;top_level_module&amp;gt;/&amp;lt;generator_class_prefix&amp;gt;/&amp;lt;template_name&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;For example, &lt;code class=&quot;language-text&quot;&gt;react-rails&lt;/code&gt; has &lt;a href=&quot;https://github.com/reactjs/react-rails/blob/master/lib/generators/react/component_generator.rb&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;React::Generators::ComponentGenerator&lt;/code&gt;&lt;/a&gt;, so if I wanted to replace &lt;a href=&quot;https://github.com/reactjs/react-rails/blob/master/lib/generators/templates/component.es6.jsx&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;component.es6.jsx&lt;/code&gt;&lt;/a&gt;, I would place it in &lt;code class=&quot;language-text&quot;&gt;lib/templates/react/component/component.es6.jsx&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I hope that helps!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[First Steps into Open Source]]></title><description><![CDATA[At start of the year, I set a rather nebulous goal: “become a regular open source contributor” The motivation was to experience different…]]></description><link>https://www.wasabigeek.com/blog/first-steps-to-open-source/</link><guid isPermaLink="false">https://www.wasabigeek.com/blog/first-steps-to-open-source/</guid><pubDate>Wed, 06 May 2020 22:12:03 GMT</pubDate><content:encoded>&lt;p&gt;At start of the year, I set a rather nebulous goal:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“become a regular open source contributor”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The motivation was to experience different codebases to gain more experience and (hopefully) improve my employability. 5 months on, I feel reasonably comfortable stating that I’m an open source contributor, and hope to continue doing so.&lt;/p&gt;
&lt;p&gt;This is a summary of my journey so far, I hope it’ll be useful for you, especially if you’re thinking of contributing!&lt;/p&gt;
&lt;h2&gt;First Timers Only&lt;/h2&gt;
&lt;p&gt;To start, I remembered reading about a &lt;a href=&quot;https://kentcdodds.com/blog/first-timers-only&quot;&gt;first timers “movement”&lt;/a&gt; and quickly found a compilation of participating &lt;a href=&quot;https://github.com/MunGell/awesome-for-beginners&quot;&gt;projects&lt;/a&gt;. Ruby was what we used at work, so I jumped to that section.&lt;/p&gt;
&lt;p&gt;The first &lt;a href=&quot;https://github.com/rails/rails/pull/38220&quot;&gt;PR&lt;/a&gt; I tried to submit was for Rails (seemed like it would be something nice on the resume). Rails uses the label &lt;a href=&quot;https://github.com/rails/rails/labels/good%20first%20issue&quot;&gt;good first issue&lt;/a&gt;, so I picked an issue near the top, spent a Saturday working and submitted it!&lt;/p&gt;
&lt;p&gt;Then I waited.&lt;/p&gt;
&lt;p&gt;And waited.&lt;/p&gt;
&lt;h2&gt;Good things…&lt;/h2&gt;
&lt;p&gt;In hindsight, that issue was not a great first pick. It already had some attempts, with the most recent just a week before my PR. I think I was so unsure of myself, I figured this would be a super low-risk issue to try. After all, if I screwed it up, there were other attempts that could be picked up.&lt;/p&gt;
&lt;p&gt;In the end, one of the maintainers took it upon himself to close the issue and credited all the contributors. His PR was better, but I guess it was mainly a way of navigating this long-drawn issue without stepping on any toes.&lt;/p&gt;
&lt;p&gt;While waiting, I decided to try again. We were using a &lt;a href=&quot;https://github.com/99designs/iamy&quot;&gt;tool&lt;/a&gt; written in Go to manage our AWS IAM at work, but there was a good-to-have feature we wanted and an issue for it. So I spent a few week nights and weekends learning Go, doing up the &lt;a href=&quot;https://github.com/99designs/iamy/pull/69&quot;&gt;PR&lt;/a&gt; and submitting it.&lt;/p&gt;
&lt;p&gt;Then I waited.&lt;/p&gt;
&lt;h2&gt;…come to those…&lt;/h2&gt;
&lt;p&gt;And someone reviewed! I was energised. I made some changes.&lt;/p&gt;
&lt;p&gt;Then he requested a second opinion from another maintainer.&lt;/p&gt;
&lt;p&gt;It’s still there, open.&lt;/p&gt;
&lt;p&gt;At this point I was starting to get disheartened. (No hate to open source maintainers, it’s pretty thankless work and the world is better for your contributions.)&lt;/p&gt;
&lt;h2&gt;…who &lt;del&gt;wait&lt;/del&gt; keep trying.&lt;/h2&gt;
&lt;p&gt;I flapped around a bit, and one day decided to look at another gem our company had been using. I saw a pretty steady stream of merges, neatly labelled issues, plus it just felt less intimidating than Rails.&lt;/p&gt;
&lt;p&gt;A few days later, my &lt;a href=&quot;https://github.com/slack-ruby/slack-ruby-bot/pull/244&quot;&gt;first merge&lt;/a&gt;! I was elated.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 518px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a6a8e9110ff40b0c37628a8d0267e82e/6b9fd/slackrubymerge.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 14.18918918918919%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAkUlEQVQI16WOWw6CMBRE2f8a3IUr8UtDwASVd0l4FNrbAseCS3CSmZN7Mx8TVZnGi8EYgxXBe48EirjzNsayLAvGWpxfsW5F3EF/0offry/s+050vSSk9xvxIyZJnxRlRV03tKo7XRQlWfairGq6XvNRM3nwuxnJ24lx0qhWoUJ33TaiI+awYBgn+n5A65l/9AUqoudHHa/43AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;First Merge!&quot;
        title=&quot;First Merge!&quot;
        src=&quot;/static/a6a8e9110ff40b0c37628a8d0267e82e/6b9fd/slackrubymerge.png&quot;
        srcset=&quot;/static/a6a8e9110ff40b0c37628a8d0267e82e/12f09/slackrubymerge.png 148w,
/static/a6a8e9110ff40b0c37628a8d0267e82e/e4a3f/slackrubymerge.png 295w,
/static/a6a8e9110ff40b0c37628a8d0267e82e/6b9fd/slackrubymerge.png 518w&quot;
        sizes=&quot;(max-width: 518px) 100vw, 518px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Huge props to &lt;a href=&quot;https://github.com/dblock&quot;&gt;dblock&lt;/a&gt;, who somehow manages to turnaround and reply quickly, often within a day or two. Rubyists, if you would love to contribute but don’t know where to, might I humbly suggest anyone of dblock’s projects - it’s a great place to start.&lt;/p&gt;
&lt;h2&gt;Closing Thoughts&lt;/h2&gt;
&lt;p&gt;For “first timers” looking to contribute, my takeaways (sample size of 1, take with a pinch of salt):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Labels on recent issues seemed like a good sign that a project is well-maintained. Search for a &lt;code class=&quot;language-text&quot;&gt;first-timers-only&lt;/code&gt; type label - for example, in Rails it was &lt;code class=&quot;language-text&quot;&gt;good first issue&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Check the &lt;code class=&quot;language-text&quot;&gt;CONTRIBUTING.md&lt;/code&gt; documentation first before starting on your PR! There’s usually a lot of helpful setup stuff there. For example, Rails was pretty amazing for this, I was kinda worried going in but it was really smooth, they even had instructions on how to use Vagrant to get started.&lt;/li&gt;
&lt;li&gt;Expect a little trial-and-error to getting your first PR merged, but stick with it! I found the experience super rewarding, and indeed got exposure to different codebases and languages.&lt;/li&gt;
&lt;li&gt;Make life as easy for maintainers as possible - try to figure out as much as you can first, whether it’s looking at previous PRs, making GitHub checks pass.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I hope that was helpful! Feel free to drop a note on Twitter to discuss / disagree :)&lt;/p&gt;</content:encoded></item></channel></rss>